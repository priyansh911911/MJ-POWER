(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3181,e=>{"use strict";var s=e.i(1398),t=e.i(1788),r=e.i(6693),l=e.i(1376);let a={tokenPath:e.i(461).default.env.NEXT_PUBLIC_FQ_TOKEN_PATH||"src/services/tokens.json",dev:{appName:"s3_mjpower_solar",serverUrl:"http://localhost:4466"},prod:{appName:"s3_mjpower_solar",serverUrl:"https://v6.frontql.dev"}},n=a.prod.appName,i=a.prod.serverUrl,o=a.tokenPath;function d(e){let s,t=5381;for(let s=0;s<e.length;s++)t=(t<<5)+t^e.charCodeAt(s);let r="";for(let e=0;e<8;e++)t^=t<<13,t^=t>>>17,t^=t<<5,r+=String.fromCharCode(s=(s=(t>>>0)%62)<10?48+s:s<36?87+s:29+s);return r}let c=async(e,s,t={})=>{console.log(`ðŸ” API CALL: ${e.toUpperCase()} ${s}`),s.includes("products")&&(console.log("âš ï¸ PRODUCTS API CALL DETECTED"),console.trace("Call stack for products API"));let{body:r,page:a,sort:c,joins:x,hidden:m,fields:u,filter:h,search:g,nearby:p,session:b,validation:j,permissions:y,loading:f=!0}=t,N={};m&&(N.hidden=m),h&&(N.filter=h),u&&(N.fields=u),b&&(N.session=b),p&&(N.nearby=p),x&&(N.collections=x),j&&(N.validation=j),y&&(N.permissions=y);let v=function(e,s,t){let r,l=((r=s.split("/")).length>2&&r.pop(),r.join("/")),a={fields:t?.fields,hidden:t?.hidden,filter:t?.filter,nearby:t?.nearby,collections:t?.joins,permissions:t?.permissions,validation:t?.validation};a.body_is_array=Array.isArray(t.body||{});let n=e+">"+l;for(let e in a)n+=e+":"+a[e];let i=e+":"+l+">"+d(n);return console.log("ðŸ”‘ TOKEN GENERATION DEBUG:"),console.log("Method:",e),console.log("Original URL:",s),console.log("Cleaned URL:",l),console.log("Token String:",n),console.log("Generated Key:",i),console.log("Unique Hash:",d(n)),i}(e,s,t),w=l.default[v]||!1;console.log("ðŸ” TOKEN LOOKUP DEBUG:"),console.log("Looking for key:",v),console.log("Available tokens:",Object.keys(l.default)),console.log("Token found:",!!w),console.log("Token value:",w),w?(N.token=w,console.log("âœ… Using existing token")):(N["token-key"]=v,N["token-path"]=o,console.log("âš ï¸ No token found, sending token-key for generation"));let C={page:a,sort:c,search:g};try{f&&console.log("Loading started...");let t={method:e.toUpperCase(),headers:{...N,"Content-Type":"application/json",app:n},body:r?JSON.stringify(r):null},l=s;if(C.page||C.sort||C.search){let e=new URLSearchParams(C);l+=`?${e.toString()}`}let a=i+l;console.log("=== API Request Details ==="),console.log("URL:",a),console.log("Method:",t.method),console.log("Headers:",t.headers),console.log("Body (parsed):",t.body?JSON.parse(t.body):{}),console.log("========================");let o=await fetch(a,t);if(!o.ok)throw Error(`Error: ${o.statusText}`);return await o.json()}catch(s){throw console.error(`${e.toUpperCase()} Error:`,s.message),s}finally{f&&console.log("Loading completed.")}},x=async(e,s)=>c("get",e,s),m=async(e,s)=>c("put",e,s),u=async(e,s)=>c("post",e,s),h=async(e,s)=>c("post",`/sql-${e.replace("/","")}`,s);class g{collection;constructor(e){this.collection=e}async findMany(e={}){try{console.log(`FQL: Fetching ${this.collection}`);let s=await x(`/${this.collection}`,{filter:e.filter,search:e.search,sort:e.sort,fields:e.fields,joins:e.joins,page:e.limit?`1,${e.limit}`:void 0});return console.log(`FQL: ${this.collection} result:`,s),{result:s?.result||s?.data||s||[]}}catch(e){return console.error(`FQL: Error fetching ${this.collection}:`,e),{result:[],err:e}}}async findById(e,s={}){try{return{result:await x(`/${this.collection}/${e}`,{fields:s.fields,joins:s.joins,session:s.useSession?"true":void 0})}}catch(e){return{result:null,err:e}}}async findLast(e={}){try{return{result:await x(`/${this.collection}/last`,{filter:e.filter,search:e.search,sort:e.sort,fields:e.fields,joins:e.joins,session:e.useSession?"true":void 0})}}catch(e){return{result:null,err:e}}}async createOne(e,s={}){try{console.log(`FQL: Creating ${this.collection}:`,e),console.log(`FQL: API endpoint will be: /${this.collection}`),"products"===this.collection&&console.log("PRODUCTS: Forcing correct endpoint");let s=await u(`/${this.collection}`,{body:e});return console.log(`FQL: Create ${this.collection} result:`,s),{result:s?.result||{id:s?.id||Date.now()}}}catch(e){return console.error(`FQL: Error creating ${this.collection}:`,e),{result:{id:0},err:e}}}async createMany(e,s={}){try{return{result:await u(`/${this.collection}/batch`,{body:e,session:s.useSession?"true":void 0})}}catch(e){return{result:{ids:[]},err:e}}}async updateById(e,s,t={}){try{return await m(`/${this.collection}/${e}`,{body:s,session:t.useSession?"true":void 0}),{result:!0}}catch(e){return{result:!1,err:e}}}async updateMany(e,s={}){try{return await m(`/${this.collection}/batch`,{body:e,session:s.useSession?"true":void 0}),{result:!0}}catch(e){return{result:!1,err:e}}}async softDeleteById(e,s={}){try{return await m(`/${this.collection}/${e}`,{body:{is_deleted:1},session:s.useSession?"true":void 0}),{result:!0}}catch(e){return{result:!1,err:e}}}}class p{sales=new g("sales");purchases=new g("purchases");purchase_entries=new g("purchase_entries");receipts=new g("receipts");customers=new g("customers");vendors=new g("vendors");items=new g("items");units=new g("units");areas=new g("areas");clients=new g("clients");roles=new g("roles");users=new g("users");products=new g("products");services=new g("services");orders=new g("orders");tickets=new g("tickets");async sql(e,s=[],t={}){try{return{result:await h("query",{body:{sql:e,params:s},session:t.useSession?"true":void 0})}}catch(e){return{result:[],err:e}}}}let b=new p,j=(0,t.createContext)({}),y=()=>{let e=(0,t.useContext)(j);if(!e)throw Error("useApp must be used within an AppProvider");return e},f=({children:e})=>{let[l,a]=(0,t.useState)(()=>{{let e=localStorage.getItem("mjpower-data");return e?JSON.parse(e):r.default}}),[n,i]=(0,t.useState)(()=>{{let e=localStorage.getItem("mjpower-user");return e?JSON.parse(e):null}}),[o,d]=(0,t.useState)("dashboard"),[c,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{localStorage.setItem("mjpower-data",JSON.stringify(l))},[l]),(0,t.useEffect)(()=>{h()},[]);let h=async()=>{try{let[e,s,t,l,n]=await Promise.all([b.customers.findMany({}),b.products.findMany({}),b.services.findMany({}),b.tickets.findMany({}),b.orders.findMany({})]);console.log("Setting data from FQL:",{customers:e?.result||[],products:s?.result||[],services:t?.result||[],tickets:l?.result||[],orders:n?.result||[]}),a({...r.default,customers:e?.result||[],products:s?.result||[],services:t?.result||[],tickets:l?.result||[],orders:n?.result||[]})}catch(e){console.error("Failed to load from database:",e)}},g=async()=>{try{await u("/mjpower_data",{body:l})}catch(e){console.error("Cloud sync failed:",e)}},p=async()=>{try{let e=await x("/mjpower_data");e&&a(e)}catch(e){console.error("Cloud load failed:",e)}};(0,t.useEffect)(()=>{n?localStorage.setItem("mjpower-user",JSON.stringify(n)):localStorage.removeItem("mjpower-user")},[n]);let y=async(e,s)=>{try{if(!s?.trim())return void a(s=>({...s,[e]:[]}));let t=await b.products.findMany({}),r=t.result?.filter(e=>e.name.toLowerCase().includes(s.toLowerCase()))||[];a(s=>({...s,[e]:r}))}catch(s){console.error("fetchData error:",s),a(s=>({...s,[e]:[]}))}},f=async(e,s)=>{try{console.log(`=== Adding item to ${e} ===`),console.log("Item data:",s),console.log("FQL collection exists:",!!b[e]);let t=await b[e].createOne(s,{});if(console.log("FQL response:",t),t.err)throw console.log("API returned error, falling back to local storage"),Error(t.err.message||t.result);let r={...s,id:t.result.id};return a(s=>({...s,[e]:[...s[e]||[],r]})),console.log(`Successfully added to ${e}:`,r),"products"===e&&setTimeout(async()=>{let e=await b.products.findMany({});console.log("=== Current Products in Database ===",e)},1e3),r}catch(r){console.error(`Database add failed for ${e}:`,r);let t={...s,id:Date.now()};return a(s=>({...s,[e]:[...s[e]||[],t]})),t}},N=async(e,s,t)=>{try{await b[e].updateById(s,t,{useSession:!0}),a(r=>({...r,[e]:r[e].map(e=>e.id===s?{...e,...t}:e)}))}catch(r){console.error("Database update failed:",r),a(r=>({...r,[e]:r[e].map(e=>e.id===s?{...e,...t}:e)}))}},v=async(e,s)=>{try{await b[e].softDeleteById(s,{useSession:!0}),a(t=>({...t,[e]:t[e].filter(e=>e.id!==s)}))}catch(t){console.error("Database delete failed:",t),a(t=>({...t,[e]:t[e].filter(e=>e.id!==s)}))}};return(0,s.jsx)(j.Provider,{value:{data:l,currentUser:n,currentPage:o,setCurrentPage:d,login:(e,s,t=null)=>{if(t)return i(t),!0;let r=l.users?.find(t=>t.username===e&&t.password===s);return!!r&&(i(r),!0)},logout:()=>{i(null),d("dashboard")},updateData:(e,s)=>{a(t=>({...t,[e]:s}))},addItem:f,updateItem:N,deleteItem:v,useCloud:c,setUseCloud:m,syncToCloud:g,loadFromCloud:p,fetchData:y},children:e})},N={src:e.i(5613).default,width:552,height:452,blurWidth:8,blurHeight:7,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAqklEQVR42o2OvQrCMACEY1pjIYXqYG2aEiQKDoKDONtBURcFIe2iXSr4Myi0QaxTBcHZxcHHcPPxrIuDi37HccMtHwD/AvOwUGrobUy0Kshl+aZYxy332nx2DrW7gqD2OSqmWfaEGI827t6/DR678/oSBHN/EYYzSikBnHN2StN4OO1PeqLrxVG0PCbJVkq5YoxRoKoqpLZtOA41stVtQvC7xLIwQkj5Kf8CEi0bWzA9qscAAAAASUVORK5CYII="},v=({onBackToCustomer:e})=>{let[r,l]=(0,t.useState)(""),[a,n]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[d,c]=(0,t.useState)(!1),[x,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[g,p]=(0,t.useState)(""),[b,j]=(0,t.useState)(""),{login:f,addItem:v,data:w}=y(),C=e=>{if(e.preventDefault(),d){let e=w.customers.find(e=>e.email===r&&e.password===a);if(e){let s={...e,role:"customer"};f(e.email,e.password,s),o("")}else o("Invalid customer credentials")}else f(r,a)?o(""):o("Invalid credentials")};return d?(0,s.jsxs)("div",{className:"min-h-screen bg-blue-600 flex",children:[(0,s.jsx)("div",{className:"hidden lg:flex lg:w-1/2 bg-blue-600 items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"text-center text-white",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 inline-block mb-6 shadow-2xl",children:(0,s.jsx)("img",{src:N,alt:"MJ POWER Solar",className:"w-32 h-auto"})}),(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"MJ POWER Solar"}),(0,s.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"Your trusted partner in clean energy solutions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸŒž"}),(0,s.jsx)("div",{children:"Premium Solar Panels"})]}),(0,s.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"âš¡"}),(0,s.jsx)("div",{children:"Expert Installation"})]}),(0,s.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ”§"}),(0,s.jsx)("div",{children:"24/7 Support"})]}),(0,s.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ’°"}),(0,s.jsx)("div",{children:"Best Prices"})]})]})]})}),(0,s.jsx)("div",{className:"w-full lg:w-1/2 bg-white flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"lg:hidden bg-blue-600 rounded-xl p-3 inline-block mb-4",children:(0,s.jsx)("img",{src:N,alt:"MJ POWER Solar",className:"w-16 h-auto"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fixed Text"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Fixed Text"})]}),(0,s.jsxs)("form",{onSubmit:x?e=>{(e.preventDefault(),w.customers.find(e=>e.email===r))?o("Customer with this email already exists"):(v("customers",{name:u,email:r,phone:g,address:b,password:a,assignedTo:"",assignedType:"partner"}),o(""),m(!1),h(""),p(""),j(""),l(""),n(""),alert("Registration successful! You can now login."))}:C,className:"space-y-4",children:[x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter your full name",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",placeholder:"Enter your phone number",value:g,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,s.jsx)("input",{type:"email",placeholder:"Enter your email",value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",placeholder:"Enter your password",value:a,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),i&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-center",children:i}),x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Installation Address"}),(0,s.jsx)("textarea",{placeholder:"Enter your address for solar installation",value:b,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",rows:3})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:"Fixed Text"}),x&&(0,s.jsx)("button",{type:"button",onClick:()=>{m(!1),h(""),p(""),j(""),l(""),n(""),o("")},className:"w-full mt-3 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-200",children:"Cancel"})]}),(0,s.jsxs)("div",{className:"mt-6 text-center space-y-3",children:[!x&&(0,s.jsx)("button",{onClick:()=>{e?e():(c(!d),o(""),l(""),n(""))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium underline",children:"Back to Customer Portal"}),!x&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:()=>{m(!0),o("")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium underline",children:"New customer? Create account"})})]})]})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,s.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 border-4 border-yellow-400 rotate-12"}),(0,s.jsx)("div",{className:"absolute bottom-20 right-20 w-40 h-40 border-4 border-yellow-400 -rotate-12"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 border-4 border-green-400 rotate-45"})]}),(0,s.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,s.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-3 sm:p-4 inline-block mb-4 sm:mb-6 shadow-2xl",children:(0,s.jsx)("img",{src:N,alt:"MJ POWER Solar",className:"w-24 sm:w-32 h-auto"})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-black mb-2 drop-shadow-lg",children:"Solar Staff Portal"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-gray-700",children:"Power the future with solar"})]}),(0,s.jsxs)("form",{onSubmit:C,className:"bg-white rounded-2xl p-6 sm:p-8 shadow-xl border border-gray-200 space-y-4 sm:space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-blue-900 font-semibold mb-2 text-sm sm:text-base flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ‘¤"})," Username"]}),(0,s.jsx)("input",{type:"text",placeholder:"Enter your username",value:r,onChange:e=>l(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-blue-50 border-2 border-blue-200 rounded-lg text-gray-800 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 text-sm sm:text-base transition-all",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-blue-900 font-semibold mb-2 text-sm sm:text-base flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ”’"})," Password"]}),(0,s.jsx)("input",{type:"password",placeholder:"Enter your password",value:a,onChange:e=>n(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-blue-50 border-2 border-blue-200 rounded-lg text-gray-800 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 text-sm sm:text-base transition-all",required:!0})]}),i&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-center text-sm sm:text-base",children:i}),(0,s.jsx)("div",{className:"pt-2 sm:pt-4",children:(0,s.jsxs)("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white font-bold py-3 sm:py-4 rounded-lg hover:from-orange-700 hover:to-orange-600 text-sm sm:text-base shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"âš¡"}),"Staff Login"]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center space-y-3",children:(0,s.jsx)("button",{onClick:()=>{e?e():(c(!d),o(""),l(""),n(""))},className:"text-black hover:text-blue-600 text-sm font-semibold bg-gray-100 px-6 py-2 rounded-full hover:bg-gray-200 transition-all duration-200",children:"ðŸ  Back to Customer Portal"})})]})]})},w=({children:e})=>{let{currentUser:r,logout:l,setCurrentPage:a}=y(),[n,i]=(0,t.useState)("Dashboard"),[o,d]=(0,t.useState)(!1),[c,x]=(0,t.useState)(!1);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 text-gray-900 flex relative",children:[(0,s.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 p-2 shadow-sm",children:(0,s.jsx)("button",{onClick:()=>d(!o),className:"bg-white/10 backdrop-blur-sm p-2 rounded-lg border border-yellow-400 hover:bg-white/20 transition-all",children:(0,s.jsx)("span",{className:"text-yellow-300 text-xl",children:"â˜°"})})}),(0,s.jsx)("div",{className:"hidden lg:block fixed top-2 left-2 z-50",children:(0,s.jsx)("button",{onClick:()=>x(!c),className:"bg-white/10 backdrop-blur-sm p-2 rounded-lg border border-yellow-400 hover:bg-white/20 transition-all",children:(0,s.jsx)("span",{className:"text-yellow-300 text-lg",children:"â˜°"})})}),o&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>d(!1)}),(0,s.jsxs)("div",{className:"Fixed Text Fixed Text fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 flex flex-col h-screen overflow-y-auto transition-transform duration-300 ease-in-out shadow-lg",children:[(0,s.jsxs)("div",{className:"flex-1 p-1 lg:p-2",children:[(0,s.jsx)("div",{className:"flex justify-center mb-2",children:(0,s.jsx)("div",{className:"bg-orange-500 p-2 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"MJ"})})}),(0,s.jsx)("nav",{children:(0,s.jsx)("ul",{className:"space-y-0.5 lg:space-y-1",children:({admin:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Customers",icon:"ðŸ‘¥"},{name:"Products",icon:"ðŸ”‹"},{name:"Services",icon:"âš¡"},{name:"Orders",icon:"ðŸ“¦"},{name:"Tickets",icon:"ðŸŽ«"},{name:"Add Technician",icon:"ðŸ‘¨ðŸ”§"},{name:"Add Partner",icon:"ðŸ¤"},{name:"Reports",icon:"ðŸ“Š"}],manager:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Tickets",icon:"ðŸŽ«"},{name:"Reports",icon:"ðŸ“Š"}],partner:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Customers",icon:"ðŸ‘¥"},{name:"Tickets",icon:"ðŸŽ«"}],technician:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Tickets",icon:"ðŸŽ«"}]})[r?.role]?.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{onClick:()=>{i(e.name),a(e.name.toLowerCase()),d(!1)},className:`w-full flex items-center gap-1.5 lg:gap-2 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 ${n===e.name?"bg-orange-200 text-orange-800 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[(0,s.jsx)("span",{className:"text-sm lg:text-base",children:e.icon}),(0,s.jsx)("span",{className:"font-medium text-xs",children:e.name})]})},e.name))})})]}),(0,s.jsx)("div",{className:"p-1.5 lg:p-2 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-900",children:r?.name}),(0,s.jsx)("p",{className:"text-xs text-gray-600 capitalize",children:r?.role})]}),(0,s.jsx)("button",{onClick:l,className:"bg-red-500 hover:bg-red-600 text-white px-1.5 py-0.5 rounded text-xs transition-all",children:"Logout"})]})})]}),(0,s.jsx)("div",{className:"overflow-y-auto scrollbar-hide pt-12 lg:pt-0 lg:h-screen transition-all duration-300 Fixed Text",children:(0,s.jsx)("main",{className:"p-4 lg:p-8 transition-all duration-300 Fixed Text",children:e})})]})},C=()=>{let{data:e,addItem:r,updateItem:l,deleteItem:a,currentUser:n}=y(),[i,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[x,m]=(0,t.useState)({name:"",email:"",phone:"",address:"",assignedTo:"",assignedType:"partner"}),u=["admin","partner"].includes(n?.role),h=async e=>{e.preventDefault();try{d?await l("customers",d.id,x):await r("customers",x),g()}catch(e){console.error("Error saving customer:",e),alert("Failed to save customer. Please try again.")}},g=()=>{m({name:"",email:"",phone:"",address:"",assignedTo:"",assignedType:"partner"}),o(!1),c(null)};return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),u&&(0,s.jsx)("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Customer"})]}),i&&u&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Fixed Text"}),(0,s.jsxs)("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Customer Name",value:x.name,onChange:e=>m({...x,name:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,s.jsx)("input",{type:"email",placeholder:"Email",value:x.email,onChange:e=>m({...x,email:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,s.jsx)("input",{type:"tel",placeholder:"Phone",value:x.phone,onChange:e=>m({...x,phone:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,s.jsxs)("select",{value:x.assignedType,onChange:e=>m({...x,assignedType:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,s.jsx)("option",{value:"partner",children:"Partner"}),(0,s.jsx)("option",{value:"technician",children:"Technician"})]}),(0,s.jsx)("textarea",{placeholder:"Address",value:x.address,onChange:e=>m({...x,address:e.target.value}),className:"md:col-span-2 p-3 border border-gray-300 rounded-lg",rows:3}),(0,s.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,s.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:["Fixed Text"," Customer"]}),(0,s.jsx)("button",{type:"button",onClick:g,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Cancel"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left",children:"Name"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Email"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Phone"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Assigned To"}),u&&(0,s.jsx)("th",{className:"p-3 text-left",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.customers?.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-3",children:e.name}),(0,s.jsx)("td",{className:"p-3",children:e.email}),(0,s.jsx)("td",{className:"p-3",children:e.phone}),(0,s.jsxs)("td",{className:"p-3",children:[e.assignedTo," (",e.assignedType,")"]}),u&&(0,s.jsxs)("td",{className:"p-3",children:[(0,s.jsx)("button",{onClick:()=>{m(e),c(e),o(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("customers",e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]},e.id))})]})})]})};function k(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:`https://uploads.backendservices.in/storage/admin/packages/${e}`:""}async function T(e){console.log("ðŸ–¼ï¸ Starting image upload..."),console.log("File:",e.name,"Size:",e.size,"Type:",e.type),console.log("Upload URL:","https://uploads.backendservices.in/api");let s=new FormData;s.append("folder","packages"),s.append("image",e);try{console.log("ðŸ“¤ Sending upload request...");let e=await fetch("https://uploads.backendservices.in/api",{method:"POST",headers:{username:"admin",password:"arodos"},body:s});if(console.log("ðŸ“¥ Upload response status:",e.status),console.log("ðŸ“¥ Upload response ok:",e.ok),!e.ok){let s=await e.text();throw console.error("âŒ Upload failed response:",s),Error(`Upload failed with status ${e.status}: ${s}`)}let t=await e.json();console.log("âœ… Upload response data:",t);let r=t?.files?.image;if(console.log("ðŸ“ Image path from response:",r),!r)return console.error("âŒ No image path in response"),null;let l=r.split("/"),a=l[l.length-1]||null;return console.log("ðŸ“„ Final filename:",a),a}catch(e){return console.error("âŒ Upload Error:",e.message),console.error("âŒ Full error:",e),null}}let S=()=>{let{data:e,addItem:r,updateItem:l,deleteItem:a,currentUser:n}=y(),[i,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[x,m]=(0,t.useState)({name:"",category:"",price:"",description:"",specifications:"",image:"",gstPercent:"18",partnerCommissionPercent:"10",technicianCommissionPercent:"5"}),[u,h]=(0,t.useState)(!1),g=["admin","manager"].includes(n?.role),p=e.categories?.filter(e=>"product"===e.type)||[],b=async e=>{let s=e.target.files[0];if(s){h(!0);try{let e=await T(s);m({...x,image:e||""})}catch(e){alert("Image upload failed")}h(!1)}};(0,t.useEffect)(()=>{},[]);let j=async e=>{e.preventDefault();let s={name:x.name,category:x.category,price:parseFloat(x.price),description:x.description||"",specifications:x.specifications||"",image:x.image||"",gstPercent:parseFloat(x.gstPercent),partnerCommissionPercent:parseFloat(x.partnerCommissionPercent),technicianCommissionPercent:parseFloat(x.technicianCommissionPercent)};console.log("Submitting product data:",s);try{if(d)await l("products",d.id,s),console.log("Product updated successfully");else{let e=await r("products",s);console.log("Product added successfully:",e)}f()}catch(e){console.error("Error saving product:",e),alert("Error saving product. Check console for details.")}},f=()=>{m({name:"",category:"",price:"",description:"",specifications:"",image:"",gstPercent:"18",partnerCommissionPercent:"10",technicianCommissionPercent:"5"}),o(!1),c(null)},N=e=>{m(e),c(e),o(!0)};return(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 relative z-10",children:[(0,s.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ”‹"})," Solar Products"]}),g&&(0,s.jsx)("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition-all w-full sm:w-auto whitespace-nowrap",children:"+ Add Product"})]}),i&&g&&(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-yellow-400/30 p-4 sm:p-6 rounded-xl mb-4 shadow-lg relative z-10",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-yellow-300 mb-4",children:"Fixed Text"}),(0,s.jsxs)("form",{onSubmit:j,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Product Name (e.g., Solar Panel 500W)",value:x.name,onChange:e=>m({...x,name:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:b,className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 outline-none transition-all"}),u&&(0,s.jsx)("p",{className:"text-yellow-300 text-sm mt-1",children:"Uploading..."}),x.image&&(0,s.jsx)("img",{src:k(x.image),alt:"Preview",className:"mt-2 h-20 w-20 object-cover rounded"})]}),(0,s.jsxs)("select",{value:x.category,onChange:e=>m({...x,category:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Category"}),p.map((e,t)=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id||t))]}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Price (â‚¹)",value:x.price,onChange:e=>m({...x,price:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0}),(0,s.jsx)("textarea",{placeholder:"Product Description",value:x.description,onChange:e=>m({...x,description:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",rows:3}),(0,s.jsx)("textarea",{placeholder:"Technical Specifications",value:x.specifications,onChange:e=>m({...x,specifications:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",rows:2}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"GST %",value:x.gstPercent,onChange:e=>m({...x,gstPercent:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Partner Commission %",value:x.partnerCommissionPercent,onChange:e=>m({...x,partnerCommissionPercent:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Technician Commission %",value:x.technicianCommissionPercent,onChange:e=>m({...x,technicianCommissionPercent:e.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,s.jsxs)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition-all",children:"Fixed Text"}),(0,s.jsx)("button",{type:"button",onClick:f,className:"bg-gradient-to-r from-gray-600 to-gray-500 hover:from-gray-700 hover:to-gray-600 text-white px-4 py-2 rounded-lg font-semibold shadow-md transition-all",children:"Cancel"})]})]})]}),(0,s.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-xl overflow-hidden shadow-lg",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Product Name"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Category"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Price"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"GST %"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Partner %"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Tech %"}),g&&(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.products?.length>0?e.products.map(e=>{let t=e.image&&""!==e.image.trim();return(0,s.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition-all",children:[(0,s.jsx)("td",{className:"p-3 text-gray-900",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t?(0,s.jsx)("img",{src:k(e.image),alt:e.name,className:"h-10 w-10 object-cover rounded"}):(0,s.jsx)("div",{className:"h-10 w-10 rounded bg-white/10 flex items-center justify-center text-xs text-blue-200",children:"No Img"}),e.name]})}),(0,s.jsx)("td",{className:"p-3 text-gray-700",children:e.category}),(0,s.jsxs)("td",{className:"p-3 text-green-600 font-semibold",children:["â‚¹",e.price]}),(0,s.jsxs)("td",{className:"p-3 text-gray-700",children:[e.gstPercent,"%"]}),(0,s.jsxs)("td",{className:"p-3 text-gray-700",children:[e.partnerCommissionPercent,"%"]}),(0,s.jsxs)("td",{className:"p-3 text-gray-700",children:[e.technicianCommissionPercent,"%"]}),g&&(0,s.jsxs)("td",{className:"p-3 whitespace-nowrap",children:[(0,s.jsx)("button",{onClick:()=>N(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg mr-2 text-sm transition-all",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("products",e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-all",children:"Delete"})]})]},e.id)}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:g?7:6,className:"p-6 text-center text-gray-500",children:'No solar products added yet. Click "Add Product" to get started.'})})})]})}),(0,s.jsx)("div",{className:"md:hidden space-y-3",children:e.products?.length>0?e.products.map(e=>(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-4 rounded-xl shadow-lg",children:(0,s.jsxs)("div",{className:"space-y-2",children:[e.image&&(0,s.jsx)("img",{src:k(e.image),alt:e.name,className:"h-32 w-full object-cover rounded"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Product: "}),(0,s.jsx)("span",{className:"text-gray-900",children:e.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Category: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.category})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Price: "}),(0,s.jsxs)("span",{className:"text-green-600 font-bold",children:["â‚¹",e.price]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"GST: "}),(0,s.jsxs)("span",{className:"text-gray-800",children:[e.gstPercent,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Partner: "}),(0,s.jsxs)("span",{className:"text-gray-800",children:[e.partnerCommissionPercent,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Tech: "}),(0,s.jsxs)("span",{className:"text-gray-800",children:[e.technicianCommissionPercent,"%"]})]})]}),g&&(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)("button",{onClick:()=>N(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex-1 text-sm transition-all",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("products",e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex-1 text-sm transition-all",children:"Delete"})]})]})},e.id)):(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-6 rounded-xl text-center text-gray-500",children:'No solar products added yet. Click "Add Product" to get started.'})})]})},F=()=>{let{data:e,addItem:r,updateItem:l,deleteItem:a,currentUser:n}=y(),[i,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[x,m]=(0,t.useState)({name:"",category:"",price:"",description:"",duration:"",includes:""}),u=["admin","manager"].includes(n?.role),h=e.categories.filter(e=>"service"===e.type),g=()=>{m({name:"",category:"",price:"",description:"",duration:"",includes:""}),o(!1),c(null)},p=e=>{m({name:e.name||"",category:e.category||"",price:e.price?.toString()||"",description:e.description||"",duration:e.duration||"",includes:e.includes||""}),c(e),o(!0)};return(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 relative z-10",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Services"}),u&&(0,s.jsx)("button",{onClick:()=>o(!0),className:"btn-primary px-4 py-2 rounded w-full sm:w-auto text-sm whitespace-nowrap",children:"Add Service"})]}),i&&u&&(0,s.jsxs)("div",{className:"glass-form p-3 sm:p-4 rounded-lg mb-4 relative z-10",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-green-400 mb-3",children:"Fixed Text"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={name:x.name,category:x.category,price:parseFloat(x.price),description:x.description,duration:x.duration,includes:x.includes};d?l("services",d.id,s):r("services",s),g()},className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsx)("input",{type:"text",placeholder:"Service Name",value:x.name,onChange:e=>m({...x,name:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0}),(0,s.jsxs)("select",{value:x.category,onChange:e=>m({...x,category:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0,children:[(0,s.jsx)("option",{value:"",className:"bg-gray-700 text-green-100",children:"Select Category"}),h.map(e=>(0,s.jsx)("option",{value:e.name,className:"bg-gray-700 text-green-100",children:e.name},e.id))]}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Price",value:x.price,onChange:e=>m({...x,price:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Duration (e.g., 2-3 hours)",value:x.duration,onChange:e=>m({...x,duration:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm"}),(0,s.jsx)("textarea",{placeholder:"Description",value:x.description,onChange:e=>m({...x,description:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",rows:2}),(0,s.jsx)("textarea",{placeholder:"What's included",value:x.includes,onChange:e=>m({...x,includes:e.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",rows:2}),(0,s.jsxs)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("button",{type:"submit",className:"btn-primary px-3 py-1.5 rounded text-sm",children:"Fixed Text"}),(0,s.jsx)("button",{type:"button",onClick:g,className:"btn-secondary px-3 py-1.5 rounded text-sm",children:"Cancel"})]})]})]}),(0,s.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-lg",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Name"}),(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Category"}),(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Price"}),(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Duration"}),(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Description"}),u&&(0,s.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.services?.map(e=>(0,s.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,s.jsx)("td",{className:"p-2 text-gray-900 text-sm",children:e.name}),(0,s.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:e.category}),(0,s.jsxs)("td",{className:"p-2 text-green-600 text-sm",children:["â‚¹",e.price]}),(0,s.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:e.duration}),(0,s.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:e.description}),u&&(0,s.jsxs)("td",{className:"p-2",children:[(0,s.jsx)("button",{onClick:()=>p(e),className:"btn-info px-2 py-1 rounded mr-1 text-xs",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("services",e.id),className:"btn-danger px-2 py-1 rounded text-xs",children:"Delete"})]})]},e.id))})]})}),(0,s.jsx)("div",{className:"md:hidden space-y-2",children:e.services?.map(e=>(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-3 rounded-lg",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Name: "}),(0,s.jsx)("span",{className:"text-gray-900",children:e.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Category: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.category})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Price: "}),(0,s.jsxs)("span",{className:"text-green-600",children:["â‚¹",e.price]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.duration})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Description: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Includes: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.includes})]}),u&&(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)("button",{onClick:()=>p(e),className:"btn-info px-2 py-1 rounded flex-1 text-xs",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("services",e.id),className:"btn-danger px-2 py-1 rounded flex-1 text-xs",children:"Delete"})]})]})},e.id))})]})},P=()=>{let{data:e,updateItem:r,deleteItem:l,currentUser:a}=y(),[n,i]=(0,t.useState)("all"),o=["admin","manager"].includes(a?.role),d=e.orders?.filter(e=>"all"===n||e.status===n)||[],c=(e,s)=>{r("orders",e,{status:s})},x=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2",children:[(0,s.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ“¦"})," Customer Orders"]}),(0,s.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",children:[(0,s.jsx)("option",{value:"all",children:"All Orders"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,s.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-xl overflow-hidden shadow-lg",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Order ID"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Customer"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Item"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Type"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Quantity"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Total Price"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Status"}),(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Date"}),o&&(0,s.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:d.length>0?d.map(e=>(0,s.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition-all",children:[(0,s.jsxs)("td",{className:"p-3 text-gray-900 font-medium",children:["#",e.id]}),(0,s.jsx)("td",{className:"p-3 text-gray-700",children:e.customerName}),(0,s.jsx)("td",{className:"p-3 text-gray-700",children:e.itemName}),(0,s.jsx)("td",{className:"p-3 text-gray-700 capitalize",children:e.type}),(0,s.jsx)("td",{className:"p-3 text-gray-700",children:e.quantity||1}),(0,s.jsxs)("td",{className:"p-3 text-green-600 font-semibold",children:["â‚¹",e.totalPrice||e.itemPrice]}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x(e.status)}`,children:e.status})}),(0,s.jsx)("td",{className:"p-3 text-gray-700",children:e.createdAt}),o&&(0,s.jsxs)("td",{className:"p-3 whitespace-nowrap",children:[(0,s.jsxs)("select",{value:e.status,onChange:s=>c(e.id,s.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 mr-2",children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,s.jsx)("button",{onClick:()=>l("orders",e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-all",children:"Delete"})]})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:o?9:8,className:"p-6 text-center text-gray-500",children:"No orders found for the selected filter."})})})]})}),(0,s.jsx)("div",{className:"md:hidden space-y-3",children:d.length>0?d.map(e=>(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-4 rounded-xl shadow-lg",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("span",{className:"text-gray-700 font-semibold",children:["Order #",e.id]}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(e.status)}`,children:e.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Customer: "}),(0,s.jsx)("span",{className:"text-gray-900",children:e.customerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Item: "}),(0,s.jsx)("span",{className:"text-gray-900",children:e.itemName})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Type: "}),(0,s.jsx)("span",{className:"text-gray-800 capitalize",children:e.type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Qty: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.quantity||1})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Total: "}),(0,s.jsxs)("span",{className:"text-green-600 font-bold",children:["â‚¹",e.totalPrice||e.itemPrice]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Date: "}),(0,s.jsx)("span",{className:"text-gray-800",children:e.createdAt})]}),o&&(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsxs)("select",{value:e.status,onChange:s=>c(e.id,s.target.value),className:"flex-1 text-sm border border-gray-300 rounded px-2 py-2",children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,s.jsx)("button",{onClick:()=>l("orders",e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm transition-all",children:"Delete"})]})]})},e.id)):(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-6 rounded-xl text-center text-gray-500",children:"No orders found for the selected filter."})})]})},A=()=>{let{data:e,addItem:r,updateItem:l,deleteItem:a,currentUser:n}=y(),[i,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),[x,m]=(0,t.useState)({title:"",description:"",priority:"medium",status:"open",assignedTo:"",customerId:""}),u=()=>{m({title:"",description:"",priority:"medium",status:"open",assignedTo:"",customerId:""}),o(!1),c(null)};return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Support Tickets"}),(0,s.jsx)("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Create Ticket"})]}),i&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Fixed Text"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={...x,createdBy:n?.id,createdAt:new Date().toISOString()};d?l("tickets",d.id,s):r("tickets",s),u()},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Ticket Title",value:x.title,onChange:e=>m({...x,title:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,s.jsxs)("select",{value:x.priority,onChange:e=>m({...x,priority:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"urgent",children:"Urgent"})]}),(0,s.jsxs)("select",{value:x.customerId,onChange:e=>m({...x,customerId:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,s.jsx)("option",{value:"",children:"Select Customer"}),e.customers?.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsxs)("select",{value:x.status,onChange:e=>m({...x,status:e.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,s.jsx)("option",{value:"open",children:"Open"}),(0,s.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,s.jsx)("option",{value:"resolved",children:"Resolved"}),(0,s.jsx)("option",{value:"closed",children:"Closed"})]}),(0,s.jsx)("textarea",{placeholder:"Description",value:x.description,onChange:e=>m({...x,description:e.target.value}),className:"md:col-span-2 p-3 border border-gray-300 rounded-lg",rows:4,required:!0}),(0,s.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,s.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:["Fixed Text"," Ticket"]}),(0,s.jsx)("button",{type:"button",onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Cancel"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left",children:"Title"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Customer"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Priority"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Status"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Created"}),(0,s.jsx)("th",{className:"p-3 text-left",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.tickets?.map(t=>{let r=e.customers?.find(e=>e.id==t.customerId);return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-3",children:t.title}),(0,s.jsx)("td",{className:"p-3",children:r?.name||"N/A"}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-sm ${"urgent"===t.priority?"bg-red-100 text-red-800":"high"===t.priority?"bg-orange-100 text-orange-800":"medium"===t.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority})}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-sm ${"closed"===t.status?"bg-gray-100 text-gray-800":"resolved"===t.status?"bg-green-100 text-green-800":"in-progress"===t.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})}),(0,s.jsx)("td",{className:"p-3",children:new Date(t.createdAt).toLocaleDateString()}),(0,s.jsxs)("td",{className:"p-3",children:[(0,s.jsx)("button",{onClick:()=>{m(t),c(t),o(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>a("tickets",t.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]},t.id)})})]})})]})},I=()=>{let e,{data:r,currentUser:l,addItem:a}=y(),[n,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)({userId:"",amount:"",reason:""}),c=["admin","manager"].includes(l?.role),x=(e={},r.tickets.filter(e=>"completed"===e.status).forEach(s=>{let t=("product"===s.type?r.products:r.services).find(e=>e.id==s.itemId);if(t){let l=r.customers.find(e=>e.id==s.customerId),a=l?r.users.find(e=>e.id==l.assignedTo&&"partner"===e.role):null,n=r.users.find(e=>e.id==s.assignedTo);if(a){e[a.id]||(e[a.id]={user:a,total:0,items:[]});let s=t.price*t.partnerCommissionPercent/100;e[a.id].total+=s,e[a.id].items.push({item:t.name,commission:s})}if(n){e[n.id]||(e[n.id]={user:n,total:0,items:[]});let s=t.price*t.technicianCommissionPercent/100;e[n.id].total+=s,e[n.id].items.push({item:t.name,commission:s})}}}),e),m=r.bonuses||[],u=(()=>{if(l?.role==="partner"){let e=r.customers.filter(e=>e.assignedTo==l.id),s=r.tickets.filter(s=>e.some(e=>e.id==s.customerId)),t=x[l.id]?.total||0,a=m.filter(e=>e.userId==l.id).reduce((e,s)=>e+s.amount,0);return{customers:e.length,tickets:s.length,commission:t,bonuses:a,totalEarnings:t+a}}if(l?.role==="technician"){let e=r.tickets.filter(e=>e.assignedTo==l.id),s=e.filter(e=>"completed"===e.status),t=x[l.id]?.total||0,a=m.filter(e=>e.userId==l.id).reduce((e,s)=>e+s.amount,0);return{assignedTickets:e.length,completedTickets:s.length,commission:t,bonuses:a,totalEarnings:t+a}}return null})();return l?.role==="partner"||l?.role==="technician"?(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400 mb-6",children:"My Reports"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6",children:["partner"===l.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"My Customers"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:u?.customers})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Tickets Raised"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:u?.tickets})]})]}),"technician"===l.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Assigned Tickets"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:u?.assignedTickets})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Completed Tickets"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:u?.completedTickets})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Commission"}),(0,s.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",u?.commission.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Bonuses"}),(0,s.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",u?.bonuses.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,s.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Total Earnings"}),(0,s.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",u?.totalEarnings.toFixed(2)]})]})]})]}):(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4 relative z-10",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Reports & Analytics"}),c&&(0,s.jsx)("button",{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white w-full sm:w-auto whitespace-nowrap",children:"Add Bonus"})]}),n&&(0,s.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg mb-6 border border-green-600 relative z-10",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Add Bonus"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a("bonuses",{...o,amount:parseFloat(o.amount),addedBy:l.id,addedAt:new Date().toISOString()}),d({userId:"",amount:"",reason:""}),i(!1)},className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)("select",{value:o.userId,onChange:e=>d({...o,userId:e.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select User"}),r.users.filter(e=>["partner","technician"].includes(e.role)).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Bonus Amount",value:o.amount,onChange:e=>d({...o,amount:e.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Reason",value:o.reason,onChange:e=>d({...o,reason:e.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0}),(0,s.jsxs)("div",{className:"sm:col-span-3 flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white",children:"Add Bonus"}),(0,s.jsx)("button",{type:"button",onClick:()=>i(!1),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded text-white",children:"Cancel"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Customers"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:r.customers.length})]}),(0,s.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Tickets"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:r.tickets.length})]}),(0,s.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Completed Tickets"}),(0,s.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:r.tickets.filter(e=>"completed"===e.status).length})]}),(0,s.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Commissions"}),(0,s.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:["â‚¹",Object.values(x).reduce((e,s)=>e+s.total,0).toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-black p-4 border-b border-gray-200",children:"Commission Summary"}),(0,s.jsx)("div",{className:"p-4",children:Object.values(x).map(({user:e,total:t})=>(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,s.jsxs)("span",{className:"text-black text-sm lg:text-base",children:[e.name," (",e.role,")"]}),(0,s.jsxs)("span",{className:"text-orange-500 font-semibold text-sm lg:text-base",children:["â‚¹",t.toFixed(2)]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-black p-4 border-b border-gray-200",children:"Recent Bonuses"}),(0,s.jsx)("div",{className:"p-4",children:m.slice(-10).map(e=>{let t=r.users.find(s=>s.id==e.userId);return(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-black text-sm lg:text-base",children:t?.name}),(0,s.jsx)("p",{className:"text-xs lg:text-sm text-gray-600",children:e.reason})]}),(0,s.jsxs)("span",{className:"text-orange-500 font-semibold text-sm lg:text-base",children:["â‚¹",e.amount]})]},e.id)})})]})]})]})},D=()=>{let{addItem:e}=y(),[r,l]=(0,t.useState)({name:"",email:"",phone:"",username:"",password:"",specialization:""});return(0,s.jsxs)("div",{className:"w-full p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>window.history.back(),className:"btn-secondary px-3 py-2 rounded flex items-center gap-2",children:"â† Back"}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Add New Technician"})]}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e("users",{...r,role:"technician"}),l({name:"",email:"",phone:"",username:"",password:"",specialization:""}),alert("Technician added successfully!")},className:"glass-form p-4 sm:p-6 rounded-lg space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Name"}),(0,s.jsx)("input",{type:"text",value:r.name,onChange:e=>l({...r,name:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:r.email,onChange:e=>l({...r,email:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:r.phone,onChange:e=>l({...r,phone:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Username"}),(0,s.jsx)("input",{type:"text",value:r.username,onChange:e=>l({...r,username:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:r.password,onChange:e=>l({...r,password:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Specialization"}),(0,s.jsx)("input",{type:"text",value:r.specialization,onChange:e=>l({...r,specialization:e.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",placeholder:"e.g., Electrical, Plumbing"})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full btn-primary font-bold py-2 sm:py-3 px-4 rounded",children:"Add Technician"})]})]})},E=()=>{let{addItem:e}=y(),[r,l]=(0,t.useState)({name:"",email:"",phone:"",username:"",password:"",company:"",territory:""});return(0,s.jsxs)("div",{className:"w-full p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>window.history.back(),className:"btn-secondary px-3 py-2 rounded flex items-center gap-2",children:"â† Back"}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Add New Partner"})]}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e("users",{...r,role:"partner"}),l({name:"",email:"",phone:"",username:"",password:"",company:"",territory:""}),alert("Partner added successfully!")},className:"glass-form p-4 sm:p-6 rounded-lg space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Name"}),(0,s.jsx)("input",{type:"text",value:r.name,onChange:e=>l({...r,name:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:r.email,onChange:e=>l({...r,email:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:r.phone,onChange:e=>l({...r,phone:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Username"}),(0,s.jsx)("input",{type:"text",value:r.username,onChange:e=>l({...r,username:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:r.password,onChange:e=>l({...r,password:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Company"}),(0,s.jsx)("input",{type:"text",value:r.company,onChange:e=>l({...r,company:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",placeholder:"Partner company name"})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Territory"}),(0,s.jsx)("input",{type:"text",value:r.territory,onChange:e=>l({...r,territory:e.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",placeholder:"Assigned territory or region"})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full btn-primary font-bold py-2 sm:py-3 px-4 rounded",children:"Add Partner"})]})]})},q=()=>{let{currentUser:e,data:t,currentPage:r,setCurrentPage:l}=y();return(0,s.jsx)("div",{children:(()=>{switch(r){case"customers":return(0,s.jsx)(C,{});case"products":return(0,s.jsx)(S,{});case"services":return(0,s.jsx)(F,{});case"orders":return(0,s.jsx)(P,{});case"tickets":return(0,s.jsx)(A,{});case"reports":return(0,s.jsx)(I,{});case"add technician":return(0,s.jsx)(D,{});case"add partner":return(0,s.jsx)(E,{});default:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"â˜€ï¸"})," Welcome back, ",e?.name,"!"]}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Solar Energy Management - ",e?.role," dashboard"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Solar Customers"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.customers.length})]}),(0,s.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ‘¥"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Solar Products"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.products.length})]}),(0,s.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ”‹"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Services"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.services.length})]}),(0,s.jsx)("span",{className:"text-3xl text-orange-500",children:"âš¡"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Orders"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(t.orders||[]).length})]}),(0,s.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ“¦"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-gray-900 text-lg font-semibold mb-4 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸŽ«"})," Recent Support Tickets"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[Array.isArray(t.tickets)?t.tickets.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,s.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Ticket #",t+1]}),(0,s.jsx)("span",{className:"text-orange-600 text-xs font-semibold bg-orange-100 px-2 py-1 rounded",children:"Open"})]},t)):null,(!Array.isArray(t.tickets)||0===t.tickets.length)&&(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No tickets yet"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-gray-900 text-lg font-semibold mb-4 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"âš¡"})," Quick Actions"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(e?.role==="admin"||e?.role==="partner")&&(0,s.jsx)("button",{onClick:()=>l("customers"),className:"w-full bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Solar Customer"}),e?.role==="admin"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>l("add partner"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Partner"}),(0,s.jsx)("button",{onClick:()=>l("add technician"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Technician"})]}),(0,s.jsx)("button",{onClick:()=>l("tickets"),className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-700 hover:to-yellow-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Create Support Ticket"}),(0,s.jsx)("button",{onClick:()=>l("reports"),className:"w-full bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"ðŸ“Š View Reports"})]})]})]})]})}})()})},L=({onStaffLogin:e})=>{let{currentUser:r,logout:l,data:a,addItem:n,login:i}=y(),[o,d]=(0,t.useState)("home"),[c,x]=(0,t.useState)(!1),[m,u]=(0,t.useState)({type:"product",itemId:"",quantity:1,description:"",preferredDate:""}),[h,g]=(0,t.useState)({type:"product",itemId:"",issue:"",notes:""}),[p,b]=(0,t.useState)([]),[j,f]=(0,t.useState)(!1),[N,v]=(0,t.useState)("");(0,t.useEffect)(()=>{r||"my-orders"!==o&&"my-tickets"!==o||d("home")},[r,o]);let w=r&&a.orders?.filter(e=>e.customerId===r.id)||[],C=r&&a.tickets?.filter(e=>e.customerId===r.id)||[],T=[{id:"home",label:"Home",icon:"ðŸ "},{id:"products",label:"Products",icon:"ðŸ›’"},{id:"services",label:"Services",icon:"ðŸ”§"},{id:"raise-ticket",label:"Support",icon:"ðŸŽ«"},...r?[{id:"my-orders",label:"My Orders",icon:"ðŸ“¦"},{id:"my-tickets",label:"My Tickets",icon:"ðŸŽŸï¸"}]:[]];return(0,s.jsxs)("div",{className:"min-h-screen Fixed Text",children:[(0,s.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 Fixed Text border-b backdrop-blur-sm bg-opacity-95",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-600 p-2 rounded-lg",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"MJ"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("div",{className:"text-teal-600 text-sm font-medium",children:"SOLAR SOLUTIONS"})})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:T.map(e=>(0,s.jsxs)("button",{onClick:()=>{if(!r&&("my-orders"===e.id||"my-tickets"===e.id)){v("login"),f(!0);return}d(e.id)},className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${o===e.id?"bg-teal-600 text-white":c?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>x(!c),className:"p-2 rounded-lg transition-all Fixed Text",children:(0,s.jsx)("span",{className:"text-lg",children:"Fixed Text"})}),(0,s.jsxs)("button",{onClick:()=>d("cart"),className:"relative p-2 rounded-lg transition-all Fixed Text",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸ›’"}),p.length>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:p.length})]}),r?(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium max-w-32 truncate Fixed Text",title:r.name,children:r.name}),(0,s.jsx)("button",{onClick:l,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex-shrink-0",children:"Logout"})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{v("login"),f(!0)},className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Login"}),(0,s.jsx)("button",{onClick:e,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Staff"})]})]})]})})}),(0,s.jsx)("div",{className:"pt-16",children:(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["home"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"relative rounded-3xl overflow-hidden mb-16 Fixed Text",children:(0,s.jsxs)("div",{className:"relative px-8 py-16 lg:px-16 lg:py-24",children:[(0,s.jsxs)("div",{className:"max-w-3xl",children:[(0,s.jsxs)("h1",{className:"text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Powering Tomorrow with",(0,s.jsx)("span",{className:"block text-yellow-400",children:"Clean Energy"})]}),(0,s.jsx)("p",{className:"text-xl text-teal-100 mb-8 leading-relaxed",children:"Transform your home or business with our premium solar solutions. Professional installation, maintenance, and support included."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("button",{onClick:()=>d("products"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg",children:"Explore Products"}),(0,s.jsx)("button",{onClick:()=>d("services"),className:"border-2 border-white text-white hover:bg-white hover:text-teal-700 px-8 py-4 rounded-xl font-semibold text-lg transition-all",children:"Our Services"})]})]}),(0,s.jsx)("div",{className:"absolute right-0 top-0 w-1/2 h-full opacity-10",children:(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-l from-yellow-400/30 to-transparent"})})]})}),(0,s.jsxs)("div",{className:"mb-16",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Our Solar Solutions"}),(0,s.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Comprehensive solar energy solutions tailored to your needs"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{name:"Solar Panels",icon:"â˜€ï¸",color:"bg-yellow-400"},{name:"Inverters",icon:"âš¡",color:"bg-yellow-400"},{name:"Batteries",icon:"ðŸ”‹",color:"bg-yellow-400"},{name:"Installation",icon:"ðŸ”§",color:"bg-yellow-400"}].map(e=>(0,s.jsxs)("button",{onClick:()=>d("products"),className:`group p-8 rounded-2xl transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${c?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-teal-100 rounded-2xl flex items-center justify-center mb-6 mx-auto group-hover:bg-teal-200 transition-colors",children:(0,s.jsx)("span",{className:"text-3xl",children:e.icon})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 Fixed Text",children:e.name}),(0,s.jsxs)("p",{className:"text-sm Fixed Text",children:["Professional ",e.name.toLowerCase()," solutions"]})]},e.name))})]}),(0,s.jsxs)("div",{className:"mb-16",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold Fixed Text",children:"Featured Products"}),(0,s.jsx)("button",{onClick:()=>d("products"),className:"text-teal-600 hover:text-teal-700 font-semibold flex items-center",children:"View All Products â†’"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.products?.slice(0,3).map(e=>(0,s.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${c?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)("div",{className:`h-48 flex items-center justify-center ${c?"bg-gray-700":"bg-gray-100"}`,children:(0,s.jsx)("span",{className:"text-6xl",children:"âš¡"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h4",{className:"text-xl font-semibold mb-2 Fixed Text",children:e.name}),(0,s.jsx)("p",{className:"text-sm mb-4 Fixed Text",children:e.category}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",e.price?.toLocaleString()]}),(0,s.jsx)("button",{onClick:()=>d("products"),className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:"View Details"})]})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-8 lg:p-12 Fixed Text",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold mb-4 Fixed Text",children:"Why Choose MJPOWER Solar?"}),(0,s.jsx)("p",{className:"text-lg Fixed Text",children:"Leading the way in sustainable energy solutions"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ†"})}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"Expert Installation"}),(0,s.jsx)("p",{className:"Fixed Text",children:"Professional installation by certified technicians"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("span",{className:"text-2xl",children:"âš¡"})}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"Premium Quality"}),(0,s.jsx)("p",{className:"Fixed Text",children:"High-efficiency solar panels and components"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ› ï¸"})}),(0,s.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"24/7 Support"}),(0,s.jsx)("p",{className:"Fixed Text",children:"Round-the-clock maintenance and support"})]})]})]})]}),"services"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Solar Services"}),(0,s.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Professional solar services to maximize your energy efficiency"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.services?.map(e=>(0,s.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${c?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)("div",{className:`h-48 flex items-center justify-center ${c?"bg-gray-700":"bg-gradient-to-br from-blue-50 to-blue-100"}`,children:(0,s.jsx)("span",{className:"text-6xl",children:"ðŸ”§"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3 Fixed Text",children:e.name}),(0,s.jsx)("p",{className:"mb-6 Fixed Text leading-relaxed",children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",e.price?.toLocaleString()]}),(0,s.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:"Service"})]}),(0,s.jsx)("button",{onClick:()=>{p.find(s=>s.id===e.id)||(b([...p,{...e,quantity:1}]),alert("Added to cart!"))},className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",children:"Book Service"})]})]},e.id))})]}),"products"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Products & Services"}),(0,s.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Complete solar solutions for your energy needs"})]}),(0,s.jsxs)("div",{className:"mb-16",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold mb-8 Fixed Text",children:"Solar Products"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:a.products?.map(e=>(0,s.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${c?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)("div",{className:`h-48 flex items-center justify-center ${c?"bg-gray-700":"bg-gradient-to-br from-teal-50 to-teal-100"}`,children:e.image?(0,s.jsx)("img",{src:k(e.image),alt:e.name,className:"w-full h-full object-cover"}):(0,s.jsx)("span",{className:"text-6xl",children:"âš¡"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold Fixed Text",children:e.name}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full Fixed Text",children:e.category})]}),(0,s.jsx)("p",{className:"text-sm mb-4 Fixed Text line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",e.price?.toLocaleString()]}),(0,s.jsxs)("select",{className:`rounded-lg px-3 py-1 text-sm border ${c?"bg-gray-700 text-white border-gray-600":"bg-gray-50 text-gray-900 border-gray-300"}`,onChange:s=>u({...m,quantity:parseInt(s.target.value),itemId:e.id}),children:[(0,s.jsx)("option",{value:"1",children:"Qty: 1"}),(0,s.jsx)("option",{value:"2",children:"Qty: 2"}),(0,s.jsx)("option",{value:"3",children:"Qty: 3"}),(0,s.jsx)("option",{value:"5",children:"Qty: 5"}),(0,s.jsx)("option",{value:"10",children:"Qty: 10"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(p.find(s=>s.id===e.id))d("cart");else{let s=m.quantity||1;b([...p,{...e,quantity:s}]),alert("Added to cart!")}},className:`w-full py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${p.find(s=>s.id===e.id)?"bg-green-600 hover:bg-green-700 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,children:p.find(s=>s.id===e.id)?"âœ“ In Cart":"Add to Cart"})]})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-3xl font-bold mb-8 Fixed Text",children:"Solar Services"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.services?.map(e=>(0,s.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${c?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,s.jsx)("div",{className:`h-48 flex items-center justify-center ${c?"bg-gray-700":"bg-gradient-to-br from-orange-50 to-orange-100"}`,children:(0,s.jsx)("span",{className:"text-6xl",children:"ðŸ”§"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold Fixed Text",children:e.name}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full Fixed Text",children:"Service"})]}),(0,s.jsx)("p",{className:"text-sm mb-4 Fixed Text line-clamp-2",children:e.description}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",e.price?.toLocaleString()]})}),(0,s.jsx)("button",{onClick:()=>{p.find(s=>s.id===e.id)?d("cart"):(b([...p,{...e,quantity:1}]),alert("Service added to cart!"))},className:`w-full py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${p.find(s=>s.id===e.id)?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:p.find(s=>s.id===e.id)?"âœ“ In Cart":"Book Service"})]})]},e.id))})]})]}),"cart"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Shopping Cart"}),(0,s.jsx)("p",{className:"text-xl Fixed Text",children:"Review your selected items"})]}),0===p.length?(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"text-8xl mb-6",children:"ðŸ›’"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Your cart is empty"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Add some solar products to get started!"}),(0,s.jsx)("button",{onClick:()=>d("products"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Browse Products"})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,s.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,s.jsxs)("h3",{className:"text-xl font-semibold Fixed Text",children:["Cart Items (",p.length,")"]})}),(0,s.jsx)("div",{className:"p-6 space-y-6",children:p.map(e=>(0,s.jsxs)("div",{className:`flex items-center space-x-6 p-6 border rounded-2xl transition-all hover:shadow-md ${c?"border-gray-700 hover:bg-gray-750":"border-gray-200 hover:bg-gray-50"}`,children:[(0,s.jsx)("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center ${c?"bg-gray-700":"bg-gray-100"}`,children:e.image?(0,s.jsx)("img",{src:k(e.image),alt:e.name,className:"w-full h-full object-cover rounded-xl"}):(0,s.jsx)("span",{className:"text-2xl",children:"âš¡"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-1 Fixed Text",children:e.name}),(0,s.jsx)("p",{className:"text-sm mb-2 Fixed Text",children:e.category}),(0,s.jsxs)("p",{className:"text-xl font-bold text-teal-600",children:["â‚¹",e.price?.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{b(p.map(s=>s.id===e.id&&s.quantity>1?{...s,quantity:s.quantity-1}:s))},className:`w-10 h-10 rounded-lg flex items-center justify-center font-semibold transition-all ${c?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"-"}),(0,s.jsx)("span",{className:"w-12 text-center font-semibold Fixed Text",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>{b(p.map(s=>s.id===e.id?{...s,quantity:s.quantity+1}:s))},className:`w-10 h-10 rounded-lg flex items-center justify-center font-semibold transition-all ${c?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"+"})]}),(0,s.jsx)("button",{onClick:()=>{b(p.filter(s=>s.id!==e.id))},className:"p-3 rounded-lg transition-all Fixed Text",children:"ðŸ—‘ï¸"})]},e.id))})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"rounded-2xl sticky top-24 Fixed Text",children:[(0,s.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,s.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Order Summary"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-lg Fixed Text",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["â‚¹",p.reduce((e,s)=>e+(s.price||0)*s.quantity,0).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg Fixed Text",children:[(0,s.jsx)("span",{children:"Tax (18%):"}),(0,s.jsxs)("span",{children:["â‚¹",Math.round(.18*p.reduce((e,s)=>e+(s.price||0)*s.quantity,0)).toLocaleString()]})]}),(0,s.jsx)("div",{className:"border-t pt-4 Fixed Text",children:(0,s.jsxs)("div",{className:"flex justify-between text-xl font-bold Fixed Text",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["â‚¹",Math.round(1.18*p.reduce((e,s)=>e+(s.price||0)*s.quantity,0)).toLocaleString()]})]})}),(0,s.jsx)("button",{onClick:()=>{if(!r){v("checkout"),f(!0);return}p.forEach(e=>{n("orders",{type:"product",itemId:e.id,quantity:e.quantity,description:"",preferredDate:new Date().toISOString().split("T")[0],customerId:r.id,customerName:r.name,itemName:e.name,itemPrice:e.price,totalPrice:e.price*e.quantity,status:"pending",createdAt:new Date().toISOString().split("T")[0]})}),b([]),alert("Order placed successfully!"),d("my-orders")},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"ðŸ’³ Proceed to Checkout"})]})]})})]})]}),"raise-ticket"===o&&(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Support Center"}),(0,s.jsx)("p",{className:"text-xl Fixed Text",children:"Get help with your solar solutions"})]}),(0,s.jsx)("div",{className:"p-8 rounded-2xl Fixed Text",children:r?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-6 Fixed Text",children:"Create Support Ticket"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!r){v("ticket"),f(!0);return}n("tickets",{...h,customerId:r.id,customerName:r.name,status:"open",assignedTo:"",createdBy:r.id,createdAt:new Date().toISOString()}),g({type:"product",itemId:"",issue:"",notes:""}),alert("Ticket raised successfully!")},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Category"}),(0,s.jsxs)("select",{value:h.type,onChange:e=>g({...h,type:e.target.value,itemId:""}),className:`w-full p-4 rounded-xl border transition-all ${c?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,children:[(0,s.jsx)("option",{value:"product",children:"Solar Product"}),(0,s.jsx)("option",{value:"service",children:"Solar Service"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Select Item"}),(0,s.jsxs)("select",{value:h.itemId,onChange:e=>g({...h,itemId:e.target.value}),className:`w-full p-4 rounded-xl border transition-all ${c?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,required:!0,children:[(0,s.jsxs)("option",{value:"",children:["Select ",h.type]}),("product"===h.type?a.products:a.services)?.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Issue Description"}),(0,s.jsx)("textarea",{placeholder:"Describe your issue in detail...",value:h.issue,onChange:e=>g({...h,issue:e.target.value}),className:`w-full p-4 rounded-xl border transition-all ${c?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,rows:4,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Additional Notes (Optional)"}),(0,s.jsx)("textarea",{placeholder:"Any additional information...",value:h.notes,onChange:e=>g({...h,notes:e.target.value}),className:`w-full p-4 rounded-xl border transition-all ${c?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,rows:3})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Submit Support Ticket"})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to raise a support ticket"}),(0,s.jsx)("button",{onClick:()=>{v("ticket"),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]}),"my-orders"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"My Orders"}),(0,s.jsx)("p",{className:"text-xl Fixed Text",children:"Track your solar product orders"})]}),(0,s.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,s.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,s.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Order History"})}),(0,s.jsx)("div",{className:"p-6",children:r?0===w.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ“¦"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"No Orders Yet"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Start shopping for solar products"}),(0,s.jsx)("button",{onClick:()=>d("products"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Browse Products"})]}):(0,s.jsx)("div",{className:"space-y-6",children:w.map(e=>(0,s.jsx)("div",{className:`p-6 rounded-2xl border transition-all hover:shadow-md ${c?"bg-gray-700 border-gray-600 hover:bg-gray-650":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:e.itemName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,s.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:e.type}),"product"===e.type&&(0,s.jsxs)("span",{className:"text-sm Fixed Text",children:["Qty: ",e.quantity]})]}),(0,s.jsxs)("p",{className:"text-xl font-bold text-teal-600 mb-2",children:["â‚¹",(e.totalPrice||e.itemPrice)?.toLocaleString()]}),e.description&&(0,s.jsx)("p",{className:"text-sm mb-2 Fixed Text",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,s.jsxs)("span",{children:["Preferred: ",e.preferredDate]}),(0,s.jsxs)("span",{children:["Ordered: ",e.createdAt]})]})]}),(0,s.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-white ${"completed"===e.status?"bg-green-500":"in-progress"===e.status?"bg-blue-500":"bg-yellow-500"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to view your orders"}),(0,s.jsx)("button",{onClick:()=>{v("login"),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]})]}),"my-tickets"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Support Tickets"}),(0,s.jsx)("p",{className:"text-xl Fixed Text",children:"Track your support requests"})]}),(0,s.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,s.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,s.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Ticket History"})}),(0,s.jsx)("div",{className:"p-6",children:r?0===C.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"ðŸŽŸï¸"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"No Support Tickets"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Need help? Create a support ticket"}),(0,s.jsx)("button",{onClick:()=>d("raise-ticket"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Create Ticket"})]}):(0,s.jsx)("div",{className:"space-y-6",children:C.map(e=>{let t=("product"===e.type?a.products:a.services)?.find(s=>s.id==e.itemId);return(0,s.jsx)("div",{className:`p-6 rounded-2xl border transition-all hover:shadow-md ${c?"bg-gray-700 border-gray-600 hover:bg-gray-650":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,s.jsxs)("h4",{className:"text-lg font-semibold Fixed Text",children:["Ticket #",e.id]}),(0,s.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:e.type})]}),(0,s.jsxs)("p",{className:"text-sm mb-2 Fixed Text",children:["Related to: ",t?.name]}),(0,s.jsx)("p",{className:"mb-3 Fixed Text",children:e.issue}),e.notes&&(0,s.jsxs)("p",{className:"text-sm mb-3 Fixed Text",children:[(0,s.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e.notes]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,s.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-white ${"closed"===e.status?"bg-gray-500":"completed"===e.status?"bg-green-500":"in-progress"===e.status?"bg-blue-500":"bg-yellow-500"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,s.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to view your support tickets"}),(0,s.jsx)("button",{onClick:()=>{v("login"),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]})]}),j&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"rounded-2xl p-8 max-w-md w-full mx-4 Fixed Text",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-2 Fixed Text",children:"Customer Login"}),(0,s.jsx)("p",{className:"mb-6 Fixed Text",children:"checkout"===N?"Please login to complete your purchase.":"ticket"===N?"Please login to raise a support ticket.":"Please login to access your account."}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.target),t=s.get("email"),r=s.get("password"),l=a.customers?.find(e=>e.email===t&&e.password===r);l?(i(t,r,{...l,role:"customer"}),f(!1)):alert("Invalid credentials")},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Email"}),(0,s.jsx)("input",{name:"email",type:"email",required:!0,className:"w-full p-3 rounded-lg border Fixed Text",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Password"}),(0,s.jsx)("input",{name:"password",type:"password",required:!0,className:"w-full p-3 rounded-lg border Fixed Text",placeholder:"Enter your password"})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{f(!1),d("home")},className:"flex-1 py-3 px-4 rounded-lg font-semibold Fixed Text",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 px-4 rounded-lg font-semibold",children:"Login"})]})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("button",{onClick:()=>{f(!1),e()},className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Staff Login"})})]})})]})})]})};function O(){let{currentUser:e}=y(),[r,l]=(0,t.useState)(!1),[a,n]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{l(!0)},[]),r)?a&&!e?(0,s.jsx)(v,{onBackToCustomer:()=>n(!1)}):e&&"customer"!==e.role?(0,s.jsx)(w,{children:(0,s.jsx)(q,{})}):(0,s.jsx)(L,{onStaffLogin:()=>n(!0)}):(0,s.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:"Loading..."})}let $=function(){return(0,s.jsx)("div",{className:"min-h-screen bg-white",children:(0,s.jsx)(f,{children:(0,s.jsx)(O,{})})})};function U(){return(0,s.jsx)($,{})}e.s(["default",()=>U],3181)},9675,(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",()=>e.r(3181)]),s.hot&&s.hot.dispose(function(){window.__NEXT_P.push(["/"])})}]);