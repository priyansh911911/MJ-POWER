module.exports=[3099,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(7298),g=a.i(8171),h=a.i(7669),i=a.i(6693),j=a.i(1376);let k={tokenPath:process.env.NEXT_PUBLIC_FQ_TOKEN_PATH||"src/services/tokens.json",dev:{appName:"s3_mjpower_solar",serverUrl:"http://localhost:4466"},prod:{appName:"s3_mjpower_solar",serverUrl:"https://v6.frontql.dev"}},l=k.prod.appName,m=k.prod.serverUrl,n=k.tokenPath;function o(a){let b,c=5381;for(let b=0;b<a.length;b++)c=(c<<5)+c^a.charCodeAt(b);let d="";for(let a=0;a<8;a++)c^=c<<13,c^=c>>>17,c^=c<<5,d+=String.fromCharCode(b=(b=(c>>>0)%62)<10?48+b:b<36?87+b:29+b);return d}let p=async(a,b,c={})=>{console.log(`ðŸ” API CALL: ${a.toUpperCase()} ${b}`),b.includes("products")&&(console.log("âš ï¸ PRODUCTS API CALL DETECTED"),console.trace("Call stack for products API"));let{body:d,page:e,sort:f,joins:g,hidden:h,fields:i,filter:k,search:p,nearby:q,session:r,validation:s,permissions:t,loading:u=!0}=c,v={};h&&(v.hidden=h),k&&(v.filter=k),i&&(v.fields=i),r&&(v.session=r),q&&(v.nearby=q),g&&(v.collections=g),s&&(v.validation=s),t&&(v.permissions=t);let w=function(a,b,c){let d,e=((d=b.split("/")).length>2&&d.pop(),d.join("/")),f={fields:c?.fields,hidden:c?.hidden,filter:c?.filter,nearby:c?.nearby,collections:c?.joins,permissions:c?.permissions,validation:c?.validation};f.body_is_array=Array.isArray(c.body||{});let g=a+">"+e;for(let a in f)g+=a+":"+f[a];let h=a+":"+e+">"+o(g);return console.log("ðŸ”‘ TOKEN GENERATION DEBUG:"),console.log("Method:",a),console.log("Original URL:",b),console.log("Cleaned URL:",e),console.log("Token String:",g),console.log("Generated Key:",h),console.log("Unique Hash:",o(g)),h}(a,b,c),x=j.default[w]||!1;console.log("ðŸ” TOKEN LOOKUP DEBUG:"),console.log("Looking for key:",w),console.log("Available tokens:",Object.keys(j.default)),console.log("Token found:",!!x),console.log("Token value:",x),x?(v.token=x,console.log("âœ… Using existing token")):(v["token-key"]=w,v["token-path"]=n,console.log("âš ï¸ No token found, sending token-key for generation"));let y={page:e,sort:f,search:p};try{u&&console.log("Loading started...");let c={method:a.toUpperCase(),headers:{...v,"Content-Type":"application/json",app:l},body:d?JSON.stringify(d):null},e=b;if(y.page||y.sort||y.search){let a=new URLSearchParams(y);e+=`?${a.toString()}`}let f=m+e;console.log("=== API Request Details ==="),console.log("URL:",f),console.log("Method:",c.method),console.log("Headers:",c.headers),console.log("Body (parsed):",c.body?JSON.parse(c.body):{}),console.log("========================");let g=await fetch(f,c);if(!g.ok)throw Error(`Error: ${g.statusText}`);return await g.json()}catch(b){throw console.error(`${a.toUpperCase()} Error:`,b.message),b}finally{u&&console.log("Loading completed.")}},q=async(a,b)=>p("get",a,b),r=async(a,b)=>p("put",a,b),s=async(a,b)=>p("post",a,b),t=async(a,b)=>p("post",`/sql-${a.replace("/","")}`,b);class u{collection;constructor(a){this.collection=a}async findMany(a={}){try{console.log(`FQL: Fetching ${this.collection}`);let b=await q(`/${this.collection}`,{filter:a.filter,search:a.search,sort:a.sort,fields:a.fields,joins:a.joins,page:a.limit?`1,${a.limit}`:void 0});return console.log(`FQL: ${this.collection} result:`,b),{result:b?.result||b?.data||b||[]}}catch(a){return console.error(`FQL: Error fetching ${this.collection}:`,a),{result:[],err:a}}}async findById(a,b={}){try{return{result:await q(`/${this.collection}/${a}`,{fields:b.fields,joins:b.joins,session:b.useSession?"true":void 0})}}catch(a){return{result:null,err:a}}}async findLast(a={}){try{return{result:await q(`/${this.collection}/last`,{filter:a.filter,search:a.search,sort:a.sort,fields:a.fields,joins:a.joins,session:a.useSession?"true":void 0})}}catch(a){return{result:null,err:a}}}async createOne(a,b={}){try{console.log(`FQL: Creating ${this.collection}:`,a),console.log(`FQL: API endpoint will be: /${this.collection}`),"products"===this.collection&&console.log("PRODUCTS: Forcing correct endpoint");let b=await s(`/${this.collection}`,{body:a});return console.log(`FQL: Create ${this.collection} result:`,b),{result:b?.result||{id:b?.id||Date.now()}}}catch(a){return console.error(`FQL: Error creating ${this.collection}:`,a),{result:{id:0},err:a}}}async createMany(a,b={}){try{return{result:await s(`/${this.collection}/batch`,{body:a,session:b.useSession?"true":void 0})}}catch(a){return{result:{ids:[]},err:a}}}async updateById(a,b,c={}){try{return await r(`/${this.collection}/${a}`,{body:b,session:c.useSession?"true":void 0}),{result:!0}}catch(a){return{result:!1,err:a}}}async updateMany(a,b={}){try{return await r(`/${this.collection}/batch`,{body:a,session:b.useSession?"true":void 0}),{result:!0}}catch(a){return{result:!1,err:a}}}async softDeleteById(a,b={}){try{return await r(`/${this.collection}/${a}`,{body:{is_deleted:1},session:b.useSession?"true":void 0}),{result:!0}}catch(a){return{result:!1,err:a}}}}class v{sales=new u("sales");purchases=new u("purchases");purchase_entries=new u("purchase_entries");receipts=new u("receipts");customers=new u("customers");vendors=new u("vendors");items=new u("items");units=new u("units");areas=new u("areas");clients=new u("clients");roles=new u("roles");users=new u("users");products=new u("products");services=new u("services");orders=new u("orders");tickets=new u("tickets");async sql(a,b=[],c={}){try{return{result:await t("query",{body:{sql:a,params:b},session:c.useSession?"true":void 0})}}catch(a){return{result:[],err:a}}}}let w=new v,x=(0,h.createContext)({}),y=()=>{let a=(0,h.useContext)(x);if(!a)throw Error("useApp must be used within an AppProvider");return a},z=({children:a})=>{let[b,c]=(0,h.useState)(()=>i.default),[d,e]=(0,h.useState)(()=>null),[f,j]=(0,h.useState)("dashboard"),[k,l]=(0,h.useState)(!1);(0,h.useEffect)(()=>{},[b]),(0,h.useEffect)(()=>{m()},[]);let m=async()=>{try{let[a,b,d,e,f]=await Promise.all([w.customers.findMany({}),w.products.findMany({}),w.services.findMany({}),w.tickets.findMany({}),w.orders.findMany({})]);console.log("Setting data from FQL:",{customers:a?.result||[],products:b?.result||[],services:d?.result||[],tickets:e?.result||[],orders:f?.result||[]}),c({...i.default,customers:a?.result||[],products:b?.result||[],services:d?.result||[],tickets:e?.result||[],orders:f?.result||[]})}catch(a){console.error("Failed to load from database:",a)}},n=async()=>{try{await s("/mjpower_data",{body:b})}catch(a){console.error("Cloud sync failed:",a)}},o=async()=>{try{let a=await q("/mjpower_data");a&&c(a)}catch(a){console.error("Cloud load failed:",a)}};(0,h.useEffect)(()=>{},[d]);let p=async(a,b)=>{try{if(!b?.trim())return void c(b=>({...b,[a]:[]}));let d=await w.products.findMany({}),e=d.result?.filter(a=>a.name.toLowerCase().includes(b.toLowerCase()))||[];c(b=>({...b,[a]:e}))}catch(b){console.error("fetchData error:",b),c(b=>({...b,[a]:[]}))}},r=async(a,b)=>{try{console.log(`=== Adding item to ${a} ===`),console.log("Item data:",b),console.log("FQL collection exists:",!!w[a]);let d=await w[a].createOne(b,{});if(console.log("FQL response:",d),d.err)throw console.log("API returned error, falling back to local storage"),Error(d.err.message||d.result);let e={...b,id:d.result.id};return c(b=>({...b,[a]:[...b[a]||[],e]})),console.log(`Successfully added to ${a}:`,e),"products"===a&&setTimeout(async()=>{let a=await w.products.findMany({});console.log("=== Current Products in Database ===",a)},1e3),e}catch(e){console.error(`Database add failed for ${a}:`,e);let d={...b,id:Date.now()};return c(b=>({...b,[a]:[...b[a]||[],d]})),d}},t=async(a,b,d)=>{try{await w[a].updateById(b,d,{useSession:!0}),c(c=>({...c,[a]:c[a].map(a=>a.id===b?{...a,...d}:a)}))}catch(e){console.error("Database update failed:",e),c(c=>({...c,[a]:c[a].map(a=>a.id===b?{...a,...d}:a)}))}},u=async(a,b)=>{try{await w[a].softDeleteById(b,{useSession:!0}),c(c=>({...c,[a]:c[a].filter(a=>a.id!==b)}))}catch(d){console.error("Database delete failed:",d),c(c=>({...c,[a]:c[a].filter(a=>a.id!==b)}))}};return(0,g.jsx)(x.Provider,{value:{data:b,currentUser:d,currentPage:f,setCurrentPage:j,login:(a,c,d=null)=>{if(d)return e(d),!0;let f=b.users?.find(b=>b.username===a&&b.password===c);return!!f&&(e(f),!0)},logout:()=>{e(null),j("dashboard")},updateData:(a,b)=>{c(c=>({...c,[a]:b}))},addItem:r,updateItem:t,deleteItem:u,useCloud:k,setUseCloud:l,syncToCloud:n,loadFromCloud:o,fetchData:p},children:a})},A={src:a.i(5613).default,width:552,height:452,blurWidth:8,blurHeight:7,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAqklEQVR42o2OvQrCMACEY1pjIYXqYG2aEiQKDoKDONtBURcFIe2iXSr4Myi0QaxTBcHZxcHHcPPxrIuDi37HccMtHwD/AvOwUGrobUy0Kshl+aZYxy332nx2DrW7gqD2OSqmWfaEGI827t6/DR678/oSBHN/EYYzSikBnHN2StN4OO1PeqLrxVG0PCbJVkq5YoxRoKoqpLZtOA41stVtQvC7xLIwQkj5Kf8CEi0bWzA9qscAAAAASUVORK5CYII="},B=({onBackToCustomer:a})=>{let[b,c]=(0,h.useState)(""),[d,e]=(0,h.useState)(""),[f,i]=(0,h.useState)(""),[j,k]=(0,h.useState)(!1),[l,m]=(0,h.useState)(!1),[n,o]=(0,h.useState)(""),[p,q]=(0,h.useState)(""),[r,s]=(0,h.useState)(""),{login:t,addItem:u,data:v}=y(),w=a=>{if(a.preventDefault(),j){let a=v.customers.find(a=>a.email===b&&a.password===d);if(a){let b={...a,role:"customer"};t(a.email,a.password,b),i("")}else i("Invalid customer credentials")}else t(b,d)?i(""):i("Invalid credentials")};return j?(0,g.jsxs)("div",{className:"min-h-screen bg-blue-600 flex",children:[(0,g.jsx)("div",{className:"hidden lg:flex lg:w-1/2 bg-blue-600 items-center justify-center p-8",children:(0,g.jsxs)("div",{className:"text-center text-white",children:[(0,g.jsx)("div",{className:"bg-white rounded-2xl p-6 inline-block mb-6 shadow-2xl",children:(0,g.jsx)("img",{src:A,alt:"MJ POWER Solar",className:"w-32 h-auto"})}),(0,g.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"MJ POWER Solar"}),(0,g.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"Your trusted partner in clean energy solutions"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,g.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,g.jsx)("div",{className:"text-2xl mb-2",children:"ðŸŒž"}),(0,g.jsx)("div",{children:"Premium Solar Panels"})]}),(0,g.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,g.jsx)("div",{className:"text-2xl mb-2",children:"âš¡"}),(0,g.jsx)("div",{children:"Expert Installation"})]}),(0,g.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,g.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ”§"}),(0,g.jsx)("div",{children:"24/7 Support"})]}),(0,g.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,g.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ’°"}),(0,g.jsx)("div",{children:"Best Prices"})]})]})]})}),(0,g.jsx)("div",{className:"w-full lg:w-1/2 bg-white flex items-center justify-center p-8",children:(0,g.jsxs)("div",{className:"w-full max-w-md",children:[(0,g.jsxs)("div",{className:"text-center mb-8",children:[(0,g.jsx)("div",{className:"lg:hidden bg-blue-600 rounded-xl p-3 inline-block mb-4",children:(0,g.jsx)("img",{src:A,alt:"MJ POWER Solar",className:"w-16 h-auto"})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fixed Text"}),(0,g.jsx)("p",{className:"text-gray-600",children:"Fixed Text"})]}),(0,g.jsxs)("form",{onSubmit:l?a=>{(a.preventDefault(),v.customers.find(a=>a.email===b))?i("Customer with this email already exists"):(u("customers",{name:n,email:b,phone:p,address:r,password:d,assignedTo:"",assignedType:"partner"}),i(""),m(!1),o(""),q(""),s(""),c(""),e(""),alert("Registration successful! You can now login."))}:w,className:"space-y-4",children:[l&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),(0,g.jsx)("input",{type:"text",placeholder:"Enter your full name",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),l&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),(0,g.jsx)("input",{type:"tel",placeholder:"Enter your phone number",value:p,onChange:a=>q(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,g.jsx)("input",{type:"email",placeholder:"Enter your email",value:b,onChange:a=>c(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),(0,g.jsx)("input",{type:"password",placeholder:"Enter your password",value:d,onChange:a=>e(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),f&&(0,g.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-center",children:f}),l&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Installation Address"}),(0,g.jsx)("textarea",{placeholder:"Enter your address for solar installation",value:r,onChange:a=>s(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",rows:3})]}),(0,g.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:"Fixed Text"}),l&&(0,g.jsx)("button",{type:"button",onClick:()=>{m(!1),o(""),q(""),s(""),c(""),e(""),i("")},className:"w-full mt-3 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-200",children:"Cancel"})]}),(0,g.jsxs)("div",{className:"mt-6 text-center space-y-3",children:[!l&&(0,g.jsx)("button",{onClick:()=>{a?a():(k(!j),i(""),c(""),e(""))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium underline",children:"Back to Customer Portal"}),!l&&(0,g.jsx)("div",{children:(0,g.jsx)("button",{onClick:()=>{m(!0),i("")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium underline",children:"New customer? Create account"})})]})]})})]}):(0,g.jsxs)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:[(0,g.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,g.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 border-4 border-yellow-400 rotate-12"}),(0,g.jsx)("div",{className:"absolute bottom-20 right-20 w-40 h-40 border-4 border-yellow-400 -rotate-12"}),(0,g.jsx)("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 border-4 border-green-400 rotate-45"})]}),(0,g.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,g.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,g.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-3 sm:p-4 inline-block mb-4 sm:mb-6 shadow-2xl",children:(0,g.jsx)("img",{src:A,alt:"MJ POWER Solar",className:"w-24 sm:w-32 h-auto"})}),(0,g.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-black mb-2 drop-shadow-lg",children:"Solar Staff Portal"}),(0,g.jsx)("p",{className:"text-sm sm:text-base text-gray-700",children:"Power the future with solar"})]}),(0,g.jsxs)("form",{onSubmit:w,className:"bg-white rounded-2xl p-6 sm:p-8 shadow-xl border border-gray-200 space-y-4 sm:space-y-5",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"block text-blue-900 font-semibold mb-2 text-sm sm:text-base flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"ðŸ‘¤"})," Username"]}),(0,g.jsx)("input",{type:"text",placeholder:"Enter your username",value:b,onChange:a=>c(a.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-blue-50 border-2 border-blue-200 rounded-lg text-gray-800 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 text-sm sm:text-base transition-all",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"block text-blue-900 font-semibold mb-2 text-sm sm:text-base flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"ðŸ”’"})," Password"]}),(0,g.jsx)("input",{type:"password",placeholder:"Enter your password",value:d,onChange:a=>e(a.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-blue-50 border-2 border-blue-200 rounded-lg text-gray-800 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 text-sm sm:text-base transition-all",required:!0})]}),f&&(0,g.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-center text-sm sm:text-base",children:f}),(0,g.jsx)("div",{className:"pt-2 sm:pt-4",children:(0,g.jsxs)("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white font-bold py-3 sm:py-4 rounded-lg hover:from-orange-700 hover:to-orange-600 text-sm sm:text-base shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"âš¡"}),"Staff Login"]})})]}),(0,g.jsx)("div",{className:"mt-6 text-center space-y-3",children:(0,g.jsx)("button",{onClick:()=>{a?a():(k(!j),i(""),c(""),e(""))},className:"text-black hover:text-blue-600 text-sm font-semibold bg-gray-100 px-6 py-2 rounded-full hover:bg-gray-200 transition-all duration-200",children:"ðŸ  Back to Customer Portal"})})]})]})},C=({children:a})=>{let{currentUser:b,logout:c,setCurrentPage:d}=y(),[e,f]=(0,h.useState)("Dashboard"),[i,j]=(0,h.useState)(!1),[k,l]=(0,h.useState)(!1);return(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50 text-gray-900 flex relative",children:[(0,g.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 p-2 shadow-sm",children:(0,g.jsx)("button",{onClick:()=>j(!i),className:"bg-white/10 backdrop-blur-sm p-2 rounded-lg border border-yellow-400 hover:bg-white/20 transition-all",children:(0,g.jsx)("span",{className:"text-yellow-300 text-xl",children:"â˜°"})})}),(0,g.jsx)("div",{className:"hidden lg:block fixed top-2 left-2 z-50",children:(0,g.jsx)("button",{onClick:()=>l(!k),className:"bg-white/10 backdrop-blur-sm p-2 rounded-lg border border-yellow-400 hover:bg-white/20 transition-all",children:(0,g.jsx)("span",{className:"text-yellow-300 text-lg",children:"â˜°"})})}),i&&(0,g.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>j(!1)}),(0,g.jsxs)("div",{className:"Fixed Text Fixed Text fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 flex flex-col h-screen overflow-y-auto transition-transform duration-300 ease-in-out shadow-lg",children:[(0,g.jsxs)("div",{className:"flex-1 p-1 lg:p-2",children:[(0,g.jsx)("div",{className:"flex justify-center mb-2",children:(0,g.jsx)("div",{className:"bg-orange-500 p-2 rounded-xl flex items-center justify-center",children:(0,g.jsx)("span",{className:"text-white font-bold text-xl",children:"MJ"})})}),(0,g.jsx)("nav",{children:(0,g.jsx)("ul",{className:"space-y-0.5 lg:space-y-1",children:({admin:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Customers",icon:"ðŸ‘¥"},{name:"Products",icon:"ðŸ”‹"},{name:"Services",icon:"âš¡"},{name:"Orders",icon:"ðŸ“¦"},{name:"Tickets",icon:"ðŸŽ«"},{name:"Add Technician",icon:"ðŸ‘¨ðŸ”§"},{name:"Add Partner",icon:"ðŸ¤"},{name:"Reports",icon:"ðŸ“Š"}],manager:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Tickets",icon:"ðŸŽ«"},{name:"Reports",icon:"ðŸ“Š"}],partner:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Customers",icon:"ðŸ‘¥"},{name:"Tickets",icon:"ðŸŽ«"}],technician:[{name:"Dashboard",icon:"â˜€ï¸"},{name:"Tickets",icon:"ðŸŽ«"}]})[b?.role]?.map(a=>(0,g.jsx)("li",{children:(0,g.jsxs)("button",{onClick:()=>{f(a.name),d(a.name.toLowerCase()),j(!1)},className:`w-full flex items-center gap-1.5 lg:gap-2 px-2 lg:px-3 py-1.5 lg:py-2 rounded-lg transition-all duration-200 ${e===a.name?"bg-orange-200 text-orange-800 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[(0,g.jsx)("span",{className:"text-sm lg:text-base",children:a.icon}),(0,g.jsx)("span",{className:"font-medium text-xs",children:a.name})]})},a.name))})})]}),(0,g.jsx)("div",{className:"p-1.5 lg:p-2 border-t border-gray-200",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-xs font-medium text-gray-900",children:b?.name}),(0,g.jsx)("p",{className:"text-xs text-gray-600 capitalize",children:b?.role})]}),(0,g.jsx)("button",{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white px-1.5 py-0.5 rounded text-xs transition-all",children:"Logout"})]})})]}),(0,g.jsx)("div",{className:"overflow-y-auto scrollbar-hide pt-12 lg:pt-0 lg:h-screen transition-all duration-300 Fixed Text",children:(0,g.jsx)("main",{className:"p-4 lg:p-8 transition-all duration-300 Fixed Text",children:a})})]})},D=()=>{let{data:a,addItem:b,updateItem:c,deleteItem:d,currentUser:e}=y(),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)({name:"",email:"",phone:"",address:"",assignedTo:"",assignedType:"partner"}),n=["admin","partner"].includes(e?.role),o=async a=>{a.preventDefault();try{j?await c("customers",j.id,l):await b("customers",l),p()}catch(a){console.error("Error saving customer:",a),alert("Failed to save customer. Please try again.")}},p=()=>{m({name:"",email:"",phone:"",address:"",assignedTo:"",assignedType:"partner"}),i(!1),k(null)};return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),n&&(0,g.jsx)("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Customer"})]}),f&&n&&(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Fixed Text"}),(0,g.jsxs)("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Customer Name",value:l.name,onChange:a=>m({...l,name:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,g.jsx)("input",{type:"email",placeholder:"Email",value:l.email,onChange:a=>m({...l,email:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,g.jsx)("input",{type:"tel",placeholder:"Phone",value:l.phone,onChange:a=>m({...l,phone:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,g.jsxs)("select",{value:l.assignedType,onChange:a=>m({...l,assignedType:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,g.jsx)("option",{value:"partner",children:"Partner"}),(0,g.jsx)("option",{value:"technician",children:"Technician"})]}),(0,g.jsx)("textarea",{placeholder:"Address",value:l.address,onChange:a=>m({...l,address:a.target.value}),className:"md:col-span-2 p-3 border border-gray-300 rounded-lg",rows:3}),(0,g.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,g.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:["Fixed Text"," Customer"]}),(0,g.jsx)("button",{type:"button",onClick:p,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Cancel"})]})]})]}),(0,g.jsx)("div",{className:"bg-white rounded-lg border border-gray-200",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-3 text-left",children:"Name"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Email"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Phone"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Assigned To"}),n&&(0,g.jsx)("th",{className:"p-3 text-left",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:a.customers?.map(a=>(0,g.jsxs)("tr",{className:"border-t",children:[(0,g.jsx)("td",{className:"p-3",children:a.name}),(0,g.jsx)("td",{className:"p-3",children:a.email}),(0,g.jsx)("td",{className:"p-3",children:a.phone}),(0,g.jsxs)("td",{className:"p-3",children:[a.assignedTo," (",a.assignedType,")"]}),n&&(0,g.jsxs)("td",{className:"p-3",children:[(0,g.jsx)("button",{onClick:()=>{m(a),k(a),i(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("customers",a.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]},a.id))})]})})]})};function E(a){return a?a.startsWith("http://")||a.startsWith("https://")?a:`https://uploads.backendservices.in/storage/admin/packages/${a}`:""}async function F(a){console.log("ðŸ–¼ï¸ Starting image upload..."),console.log("File:",a.name,"Size:",a.size,"Type:",a.type),console.log("Upload URL:","https://uploads.backendservices.in/api");let b=new FormData;b.append("folder","packages"),b.append("image",a);try{console.log("ðŸ“¤ Sending upload request...");let a=await fetch("https://uploads.backendservices.in/api",{method:"POST",headers:{username:"admin",password:"arodos"},body:b});if(console.log("ðŸ“¥ Upload response status:",a.status),console.log("ðŸ“¥ Upload response ok:",a.ok),!a.ok){let b=await a.text();throw console.error("âŒ Upload failed response:",b),Error(`Upload failed with status ${a.status}: ${b}`)}let c=await a.json();console.log("âœ… Upload response data:",c);let d=c?.files?.image;if(console.log("ðŸ“ Image path from response:",d),!d)return console.error("âŒ No image path in response"),null;let e=d.split("/"),f=e[e.length-1]||null;return console.log("ðŸ“„ Final filename:",f),f}catch(a){return console.error("âŒ Upload Error:",a.message),console.error("âŒ Full error:",a),null}}let G=()=>{let{data:a,addItem:b,updateItem:c,deleteItem:d,currentUser:e}=y(),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)({name:"",category:"",price:"",description:"",specifications:"",image:"",gstPercent:"18",partnerCommissionPercent:"10",technicianCommissionPercent:"5"}),[n,o]=(0,h.useState)(!1),p=["admin","manager"].includes(e?.role),q=a.categories?.filter(a=>"product"===a.type)||[],r=async a=>{let b=a.target.files[0];if(b){o(!0);try{let a=await F(b);m({...l,image:a||""})}catch(a){alert("Image upload failed")}o(!1)}};(0,h.useEffect)(()=>{},[]);let s=async a=>{a.preventDefault();let d={name:l.name,category:l.category,price:parseFloat(l.price),description:l.description||"",specifications:l.specifications||"",image:l.image||"",gstPercent:parseFloat(l.gstPercent),partnerCommissionPercent:parseFloat(l.partnerCommissionPercent),technicianCommissionPercent:parseFloat(l.technicianCommissionPercent)};console.log("Submitting product data:",d);try{if(j)await c("products",j.id,d),console.log("Product updated successfully");else{let a=await b("products",d);console.log("Product added successfully:",a)}t()}catch(a){console.error("Error saving product:",a),alert("Error saving product. Check console for details.")}},t=()=>{m({name:"",category:"",price:"",description:"",specifications:"",image:"",gstPercent:"18",partnerCommissionPercent:"10",technicianCommissionPercent:"5"}),i(!1),k(null)},u=a=>{m(a),k(a),i(!0)};return(0,g.jsxs)("div",{className:"p-2",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 relative z-10",children:[(0,g.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"ðŸ”‹"})," Solar Products"]}),p&&(0,g.jsx)("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition-all w-full sm:w-auto whitespace-nowrap",children:"+ Add Product"})]}),f&&p&&(0,g.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-yellow-400/30 p-4 sm:p-6 rounded-xl mb-4 shadow-lg relative z-10",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-yellow-300 mb-4",children:"Fixed Text"}),(0,g.jsxs)("form",{onSubmit:s,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Product Name (e.g., Solar Panel 500W)",value:l.name,onChange:a=>m({...l,name:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0}),(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:r,className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 outline-none transition-all"}),n&&(0,g.jsx)("p",{className:"text-yellow-300 text-sm mt-1",children:"Uploading..."}),l.image&&(0,g.jsx)("img",{src:E(l.image),alt:"Preview",className:"mt-2 h-20 w-20 object-cover rounded"})]}),(0,g.jsxs)("select",{value:l.category,onChange:a=>m({...l,category:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0,children:[(0,g.jsx)("option",{value:"",children:"Select Category"}),q.map((a,b)=>(0,g.jsx)("option",{value:a.name,children:a.name},a.id||b))]}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"Price (â‚¹)",value:l.price,onChange:a=>m({...l,price:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",required:!0}),(0,g.jsx)("textarea",{placeholder:"Product Description",value:l.description,onChange:a=>m({...l,description:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",rows:3}),(0,g.jsx)("textarea",{placeholder:"Technical Specifications",value:l.specifications,onChange:a=>m({...l,specifications:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all",rows:2}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"GST %",value:l.gstPercent,onChange:a=>m({...l,gstPercent:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"Partner Commission %",value:l.partnerCommissionPercent,onChange:a=>m({...l,partnerCommissionPercent:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"Technician Commission %",value:l.technicianCommissionPercent,onChange:a=>m({...l,technicianCommissionPercent:a.target.value}),className:"p-3 bg-white/10 text-white rounded-lg border border-blue-300/30 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none transition-all"}),(0,g.jsxs)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row gap-2",children:[(0,g.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition-all",children:"Fixed Text"}),(0,g.jsx)("button",{type:"button",onClick:t,className:"bg-gradient-to-r from-gray-600 to-gray-500 hover:from-gray-700 hover:to-gray-600 text-white px-4 py-2 rounded-lg font-semibold shadow-md transition-all",children:"Cancel"})]})]})]}),(0,g.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-xl overflow-hidden shadow-lg",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Product Name"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Category"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Price"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"GST %"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Partner %"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Tech %"}),p&&(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:a.products?.length>0?a.products.map(a=>{let b=a.image&&""!==a.image.trim();return(0,g.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition-all",children:[(0,g.jsx)("td",{className:"p-3 text-gray-900",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[b?(0,g.jsx)("img",{src:E(a.image),alt:a.name,className:"h-10 w-10 object-cover rounded"}):(0,g.jsx)("div",{className:"h-10 w-10 rounded bg-white/10 flex items-center justify-center text-xs text-blue-200",children:"No Img"}),a.name]})}),(0,g.jsx)("td",{className:"p-3 text-gray-700",children:a.category}),(0,g.jsxs)("td",{className:"p-3 text-green-600 font-semibold",children:["â‚¹",a.price]}),(0,g.jsxs)("td",{className:"p-3 text-gray-700",children:[a.gstPercent,"%"]}),(0,g.jsxs)("td",{className:"p-3 text-gray-700",children:[a.partnerCommissionPercent,"%"]}),(0,g.jsxs)("td",{className:"p-3 text-gray-700",children:[a.technicianCommissionPercent,"%"]}),p&&(0,g.jsxs)("td",{className:"p-3 whitespace-nowrap",children:[(0,g.jsx)("button",{onClick:()=>u(a),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg mr-2 text-sm transition-all",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("products",a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-all",children:"Delete"})]})]},a.id)}):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:p?7:6,className:"p-6 text-center text-gray-500",children:'No solar products added yet. Click "Add Product" to get started.'})})})]})}),(0,g.jsx)("div",{className:"md:hidden space-y-3",children:a.products?.length>0?a.products.map(a=>(0,g.jsx)("div",{className:"bg-white border border-gray-200 p-4 rounded-xl shadow-lg",children:(0,g.jsxs)("div",{className:"space-y-2",children:[a.image&&(0,g.jsx)("img",{src:E(a.image),alt:a.name,className:"h-32 w-full object-cover rounded"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Product: "}),(0,g.jsx)("span",{className:"text-gray-900",children:a.name})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Category: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.category})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Price: "}),(0,g.jsxs)("span",{className:"text-green-600 font-bold",children:["â‚¹",a.price]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"GST: "}),(0,g.jsxs)("span",{className:"text-gray-800",children:[a.gstPercent,"%"]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Partner: "}),(0,g.jsxs)("span",{className:"text-gray-800",children:[a.partnerCommissionPercent,"%"]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Tech: "}),(0,g.jsxs)("span",{className:"text-gray-800",children:[a.technicianCommissionPercent,"%"]})]})]}),p&&(0,g.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,g.jsx)("button",{onClick:()=>u(a),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex-1 text-sm transition-all",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("products",a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex-1 text-sm transition-all",children:"Delete"})]})]})},a.id)):(0,g.jsx)("div",{className:"bg-white border border-gray-200 p-6 rounded-xl text-center text-gray-500",children:'No solar products added yet. Click "Add Product" to get started.'})})]})},H=()=>{let{data:a,addItem:b,updateItem:c,deleteItem:d,currentUser:e}=y(),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)({name:"",category:"",price:"",description:"",duration:"",includes:""}),n=["admin","manager"].includes(e?.role),o=a.categories.filter(a=>"service"===a.type),p=()=>{m({name:"",category:"",price:"",description:"",duration:"",includes:""}),i(!1),k(null)},q=a=>{m({name:a.name||"",category:a.category||"",price:a.price?.toString()||"",description:a.description||"",duration:a.duration||"",includes:a.includes||""}),k(a),i(!0)};return(0,g.jsxs)("div",{className:"p-2",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 relative z-10",children:[(0,g.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Services"}),n&&(0,g.jsx)("button",{onClick:()=>i(!0),className:"btn-primary px-4 py-2 rounded w-full sm:w-auto text-sm whitespace-nowrap",children:"Add Service"})]}),f&&n&&(0,g.jsxs)("div",{className:"glass-form p-3 sm:p-4 rounded-lg mb-4 relative z-10",children:[(0,g.jsx)("h3",{className:"text-base font-semibold text-green-400 mb-3",children:"Fixed Text"}),(0,g.jsxs)("form",{onSubmit:a=>{a.preventDefault();let d={name:l.name,category:l.category,price:parseFloat(l.price),description:l.description,duration:l.duration,includes:l.includes};j?c("services",j.id,d):b("services",d),p()},className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,g.jsx)("input",{type:"text",placeholder:"Service Name",value:l.name,onChange:a=>m({...l,name:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0}),(0,g.jsxs)("select",{value:l.category,onChange:a=>m({...l,category:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0,children:[(0,g.jsx)("option",{value:"",className:"bg-gray-700 text-green-100",children:"Select Category"}),o.map(a=>(0,g.jsx)("option",{value:a.name,className:"bg-gray-700 text-green-100",children:a.name},a.id))]}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"Price",value:l.price,onChange:a=>m({...l,price:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",required:!0}),(0,g.jsx)("input",{type:"text",placeholder:"Duration (e.g., 2-3 hours)",value:l.duration,onChange:a=>m({...l,duration:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm"}),(0,g.jsx)("textarea",{placeholder:"Description",value:l.description,onChange:a=>m({...l,description:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",rows:2}),(0,g.jsx)("textarea",{placeholder:"What's included",value:l.includes,onChange:a=>m({...l,includes:a.target.value}),className:"p-2 bg-gray-700 text-green-100 rounded border border-green-600 text-sm",rows:2}),(0,g.jsxs)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row gap-2",children:[(0,g.jsx)("button",{type:"submit",className:"btn-primary px-3 py-1.5 rounded text-sm",children:"Fixed Text"}),(0,g.jsx)("button",{type:"button",onClick:p,className:"btn-secondary px-3 py-1.5 rounded text-sm",children:"Cancel"})]})]})]}),(0,g.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-lg",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Name"}),(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Category"}),(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Price"}),(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Duration"}),(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Description"}),n&&(0,g.jsx)("th",{className:"p-2 text-left text-gray-900 text-sm",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:a.services?.map(a=>(0,g.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,g.jsx)("td",{className:"p-2 text-gray-900 text-sm",children:a.name}),(0,g.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:a.category}),(0,g.jsxs)("td",{className:"p-2 text-green-600 text-sm",children:["â‚¹",a.price]}),(0,g.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:a.duration}),(0,g.jsx)("td",{className:"p-2 text-gray-700 text-sm",children:a.description}),n&&(0,g.jsxs)("td",{className:"p-2",children:[(0,g.jsx)("button",{onClick:()=>q(a),className:"btn-info px-2 py-1 rounded mr-1 text-xs",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("services",a.id),className:"btn-danger px-2 py-1 rounded text-xs",children:"Delete"})]})]},a.id))})]})}),(0,g.jsx)("div",{className:"md:hidden space-y-2",children:a.services?.map(a=>(0,g.jsx)("div",{className:"bg-white border border-gray-200 p-3 rounded-lg",children:(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Name: "}),(0,g.jsx)("span",{className:"text-gray-900",children:a.name})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Category: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.category})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Price: "}),(0,g.jsxs)("span",{className:"text-green-600",children:["â‚¹",a.price]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Duration: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.duration})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Description: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.description})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Includes: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.includes})]}),n&&(0,g.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,g.jsx)("button",{onClick:()=>q(a),className:"btn-info px-2 py-1 rounded flex-1 text-xs",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("services",a.id),className:"btn-danger px-2 py-1 rounded flex-1 text-xs",children:"Delete"})]})]})},a.id))})]})},I=()=>{let{data:a,updateItem:b,deleteItem:c,currentUser:d}=y(),[e,f]=(0,h.useState)("all"),i=["admin","manager"].includes(d?.role),j=a.orders?.filter(a=>"all"===e||a.status===e)||[],k=(a,c)=>{b("orders",a,{status:c})},l=a=>{switch(a){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,g.jsxs)("div",{className:"p-2",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2",children:[(0,g.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"ðŸ“¦"})," Customer Orders"]}),(0,g.jsxs)("select",{value:e,onChange:a=>f(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900",children:[(0,g.jsx)("option",{value:"all",children:"All Orders"}),(0,g.jsx)("option",{value:"pending",children:"Pending"}),(0,g.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,g.jsx)("option",{value:"completed",children:"Completed"}),(0,g.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,g.jsx)("div",{className:"hidden md:block bg-white border border-gray-200 rounded-xl overflow-hidden shadow-lg",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Order ID"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Customer"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Item"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Type"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Quantity"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Total Price"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Status"}),(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Date"}),i&&(0,g.jsx)("th",{className:"p-3 text-left text-gray-900 font-semibold",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:j.length>0?j.map(a=>(0,g.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition-all",children:[(0,g.jsxs)("td",{className:"p-3 text-gray-900 font-medium",children:["#",a.id]}),(0,g.jsx)("td",{className:"p-3 text-gray-700",children:a.customerName}),(0,g.jsx)("td",{className:"p-3 text-gray-700",children:a.itemName}),(0,g.jsx)("td",{className:"p-3 text-gray-700 capitalize",children:a.type}),(0,g.jsx)("td",{className:"p-3 text-gray-700",children:a.quantity||1}),(0,g.jsxs)("td",{className:"p-3 text-green-600 font-semibold",children:["â‚¹",a.totalPrice||a.itemPrice]}),(0,g.jsx)("td",{className:"p-3",children:(0,g.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l(a.status)}`,children:a.status})}),(0,g.jsx)("td",{className:"p-3 text-gray-700",children:a.createdAt}),i&&(0,g.jsxs)("td",{className:"p-3 whitespace-nowrap",children:[(0,g.jsxs)("select",{value:a.status,onChange:b=>k(a.id,b.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 mr-2",children:[(0,g.jsx)("option",{value:"pending",children:"Pending"}),(0,g.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,g.jsx)("option",{value:"completed",children:"Completed"}),(0,g.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,g.jsx)("button",{onClick:()=>c("orders",a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-all",children:"Delete"})]})]},a.id)):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:i?9:8,className:"p-6 text-center text-gray-500",children:"No orders found for the selected filter."})})})]})}),(0,g.jsx)("div",{className:"md:hidden space-y-3",children:j.length>0?j.map(a=>(0,g.jsx)("div",{className:"bg-white border border-gray-200 p-4 rounded-xl shadow-lg",children:(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{className:"flex justify-between items-start",children:[(0,g.jsxs)("span",{className:"text-gray-700 font-semibold",children:["Order #",a.id]}),(0,g.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(a.status)}`,children:a.status})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Customer: "}),(0,g.jsx)("span",{className:"text-gray-900",children:a.customerName})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Item: "}),(0,g.jsx)("span",{className:"text-gray-900",children:a.itemName})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Type: "}),(0,g.jsx)("span",{className:"text-gray-800 capitalize",children:a.type})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Qty: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.quantity||1})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Total: "}),(0,g.jsxs)("span",{className:"text-green-600 font-bold",children:["â‚¹",a.totalPrice||a.itemPrice]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-700 font-semibold",children:"Date: "}),(0,g.jsx)("span",{className:"text-gray-800",children:a.createdAt})]}),i&&(0,g.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,g.jsxs)("select",{value:a.status,onChange:b=>k(a.id,b.target.value),className:"flex-1 text-sm border border-gray-300 rounded px-2 py-2",children:[(0,g.jsx)("option",{value:"pending",children:"Pending"}),(0,g.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,g.jsx)("option",{value:"completed",children:"Completed"}),(0,g.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,g.jsx)("button",{onClick:()=>c("orders",a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm transition-all",children:"Delete"})]})]})},a.id)):(0,g.jsx)("div",{className:"bg-white border border-gray-200 p-6 rounded-xl text-center text-gray-500",children:"No orders found for the selected filter."})})]})},J=()=>{let{data:a,addItem:b,updateItem:c,deleteItem:d,currentUser:e}=y(),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)({title:"",description:"",priority:"medium",status:"open",assignedTo:"",customerId:""}),n=()=>{m({title:"",description:"",priority:"medium",status:"open",assignedTo:"",customerId:""}),i(!1),k(null)};return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Support Tickets"}),(0,g.jsx)("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Create Ticket"})]}),f&&(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mb-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Fixed Text"}),(0,g.jsxs)("form",{onSubmit:a=>{a.preventDefault();let d={...l,createdBy:e?.id,createdAt:new Date().toISOString()};j?c("tickets",j.id,d):b("tickets",d),n()},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Ticket Title",value:l.title,onChange:a=>m({...l,title:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",required:!0}),(0,g.jsxs)("select",{value:l.priority,onChange:a=>m({...l,priority:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,g.jsx)("option",{value:"low",children:"Low"}),(0,g.jsx)("option",{value:"medium",children:"Medium"}),(0,g.jsx)("option",{value:"high",children:"High"}),(0,g.jsx)("option",{value:"urgent",children:"Urgent"})]}),(0,g.jsxs)("select",{value:l.customerId,onChange:a=>m({...l,customerId:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,g.jsx)("option",{value:"",children:"Select Customer"}),a.customers?.map(a=>(0,g.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,g.jsxs)("select",{value:l.status,onChange:a=>m({...l,status:a.target.value}),className:"p-3 border border-gray-300 rounded-lg",children:[(0,g.jsx)("option",{value:"open",children:"Open"}),(0,g.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,g.jsx)("option",{value:"resolved",children:"Resolved"}),(0,g.jsx)("option",{value:"closed",children:"Closed"})]}),(0,g.jsx)("textarea",{placeholder:"Description",value:l.description,onChange:a=>m({...l,description:a.target.value}),className:"md:col-span-2 p-3 border border-gray-300 rounded-lg",rows:4,required:!0}),(0,g.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,g.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:["Fixed Text"," Ticket"]}),(0,g.jsx)("button",{type:"button",onClick:n,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Cancel"})]})]})]}),(0,g.jsx)("div",{className:"bg-white rounded-lg border border-gray-200",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-3 text-left",children:"Title"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Customer"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Priority"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Status"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Created"}),(0,g.jsx)("th",{className:"p-3 text-left",children:"Actions"})]})}),(0,g.jsx)("tbody",{children:a.tickets?.map(b=>{let c=a.customers?.find(a=>a.id==b.customerId);return(0,g.jsxs)("tr",{className:"border-t",children:[(0,g.jsx)("td",{className:"p-3",children:b.title}),(0,g.jsx)("td",{className:"p-3",children:c?.name||"N/A"}),(0,g.jsx)("td",{className:"p-3",children:(0,g.jsx)("span",{className:`px-2 py-1 rounded text-sm ${"urgent"===b.priority?"bg-red-100 text-red-800":"high"===b.priority?"bg-orange-100 text-orange-800":"medium"===b.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.priority})}),(0,g.jsx)("td",{className:"p-3",children:(0,g.jsx)("span",{className:`px-2 py-1 rounded text-sm ${"closed"===b.status?"bg-gray-100 text-gray-800":"resolved"===b.status?"bg-green-100 text-green-800":"in-progress"===b.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:b.status})}),(0,g.jsx)("td",{className:"p-3",children:new Date(b.createdAt).toLocaleDateString()}),(0,g.jsxs)("td",{className:"p-3",children:[(0,g.jsx)("button",{onClick:()=>{m(b),k(b),i(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,g.jsx)("button",{onClick:()=>d("tickets",b.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]},b.id)})})]})})]})},K=()=>{let a,{data:b,currentUser:c,addItem:d}=y(),[e,f]=(0,h.useState)(!1),[i,j]=(0,h.useState)({userId:"",amount:"",reason:""}),k=["admin","manager"].includes(c?.role),l=(a={},b.tickets.filter(a=>"completed"===a.status).forEach(c=>{let d=("product"===c.type?b.products:b.services).find(a=>a.id==c.itemId);if(d){let e=b.customers.find(a=>a.id==c.customerId),f=e?b.users.find(a=>a.id==e.assignedTo&&"partner"===a.role):null,g=b.users.find(a=>a.id==c.assignedTo);if(f){a[f.id]||(a[f.id]={user:f,total:0,items:[]});let b=d.price*d.partnerCommissionPercent/100;a[f.id].total+=b,a[f.id].items.push({item:d.name,commission:b})}if(g){a[g.id]||(a[g.id]={user:g,total:0,items:[]});let b=d.price*d.technicianCommissionPercent/100;a[g.id].total+=b,a[g.id].items.push({item:d.name,commission:b})}}}),a),m=b.bonuses||[],n=(()=>{if(c?.role==="partner"){let a=b.customers.filter(a=>a.assignedTo==c.id),d=b.tickets.filter(b=>a.some(a=>a.id==b.customerId)),e=l[c.id]?.total||0,f=m.filter(a=>a.userId==c.id).reduce((a,b)=>a+b.amount,0);return{customers:a.length,tickets:d.length,commission:e,bonuses:f,totalEarnings:e+f}}if(c?.role==="technician"){let a=b.tickets.filter(a=>a.assignedTo==c.id),d=a.filter(a=>"completed"===a.status),e=l[c.id]?.total||0,f=m.filter(a=>a.userId==c.id).reduce((a,b)=>a+b.amount,0);return{assignedTickets:a.length,completedTickets:d.length,commission:e,bonuses:f,totalEarnings:e+f}}return null})();return c?.role==="partner"||c?.role==="technician"?(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400 mb-6",children:"My Reports"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6",children:["partner"===c.role&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"My Customers"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:n?.customers})]}),(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Tickets Raised"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:n?.tickets})]})]}),"technician"===c.role&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Assigned Tickets"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:n?.assignedTickets})]}),(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Completed Tickets"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:n?.completedTickets})]})]}),(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Commission"}),(0,g.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",n?.commission.toFixed(2)]})]}),(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Bonuses"}),(0,g.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",n?.bonuses.toFixed(2)]})]}),(0,g.jsxs)("div",{className:"bg-gray-800 p-4 lg:p-6 rounded-lg border border-green-600",children:[(0,g.jsx)("h3",{className:"text-green-400 text-sm lg:text-lg font-semibold",children:"Total Earnings"}),(0,g.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-green-100 mt-1 lg:mt-2",children:["â‚¹",n?.totalEarnings.toFixed(2)]})]})]})]}):(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4 relative z-10",children:[(0,g.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Reports & Analytics"}),k&&(0,g.jsx)("button",{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white w-full sm:w-auto whitespace-nowrap",children:"Add Bonus"})]}),e&&(0,g.jsxs)("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg mb-6 border border-green-600 relative z-10",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Add Bonus"}),(0,g.jsxs)("form",{onSubmit:a=>{a.preventDefault(),d("bonuses",{...i,amount:parseFloat(i.amount),addedBy:c.id,addedAt:new Date().toISOString()}),j({userId:"",amount:"",reason:""}),f(!1)},className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,g.jsxs)("select",{value:i.userId,onChange:a=>j({...i,userId:a.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0,children:[(0,g.jsx)("option",{value:"",children:"Select User"}),b.users.filter(a=>["partner","technician"].includes(a.role)).map(a=>(0,g.jsxs)("option",{value:a.id,children:[a.name," (",a.role,")"]},a.id))]}),(0,g.jsx)("input",{type:"number",step:"0.01",placeholder:"Bonus Amount",value:i.amount,onChange:a=>j({...i,amount:a.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0}),(0,g.jsx)("input",{type:"text",placeholder:"Reason",value:i.reason,onChange:a=>j({...i,reason:a.target.value}),className:"p-3 bg-gray-700 text-green-100 rounded border border-green-600",required:!0}),(0,g.jsxs)("div",{className:"sm:col-span-3 flex flex-col sm:flex-row gap-2",children:[(0,g.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-white",children:"Add Bonus"}),(0,g.jsx)("button",{type:"button",onClick:()=>f(!1),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded text-white",children:"Cancel"})]})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6",children:[(0,g.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Customers"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:b.customers.length})]}),(0,g.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Tickets"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:b.tickets.length})]}),(0,g.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Completed Tickets"}),(0,g.jsx)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:b.tickets.filter(a=>"completed"===a.status).length})]}),(0,g.jsxs)("div",{className:"bg-white p-4 lg:p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm lg:text-lg font-semibold",children:"Total Commissions"}),(0,g.jsxs)("p",{className:"text-xl lg:text-3xl font-bold text-black mt-1 lg:mt-2",children:["â‚¹",Object.values(l).reduce((a,b)=>a+b.total,0).toFixed(2)]})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[(0,g.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-black p-4 border-b border-gray-200",children:"Commission Summary"}),(0,g.jsx)("div",{className:"p-4",children:Object.values(l).map(({user:a,total:b})=>(0,g.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,g.jsxs)("span",{className:"text-black text-sm lg:text-base",children:[a.name," (",a.role,")"]}),(0,g.jsxs)("span",{className:"text-orange-500 font-semibold text-sm lg:text-base",children:["â‚¹",b.toFixed(2)]})]},a.id))})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,g.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-black p-4 border-b border-gray-200",children:"Recent Bonuses"}),(0,g.jsx)("div",{className:"p-4",children:m.slice(-10).map(a=>{let c=b.users.find(b=>b.id==a.userId);return(0,g.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-black text-sm lg:text-base",children:c?.name}),(0,g.jsx)("p",{className:"text-xs lg:text-sm text-gray-600",children:a.reason})]}),(0,g.jsxs)("span",{className:"text-orange-500 font-semibold text-sm lg:text-base",children:["â‚¹",a.amount]})]},a.id)})})]})]})]})},L=()=>{let{addItem:a}=y(),[b,c]=(0,h.useState)({name:"",email:"",phone:"",username:"",password:"",specialization:""});return(0,g.jsxs)("div",{className:"w-full p-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,g.jsx)("button",{onClick:()=>window.history.back(),className:"btn-secondary px-3 py-2 rounded flex items-center gap-2",children:"â† Back"}),(0,g.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Add New Technician"})]}),(0,g.jsxs)("form",{onSubmit:d=>{d.preventDefault(),a("users",{...b,role:"technician"}),c({name:"",email:"",phone:"",username:"",password:"",specialization:""}),alert("Technician added successfully!")},className:"glass-form p-4 sm:p-6 rounded-lg space-y-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Name"}),(0,g.jsx)("input",{type:"text",value:b.name,onChange:a=>c({...b,name:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Email"}),(0,g.jsx)("input",{type:"email",value:b.email,onChange:a=>c({...b,email:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Phone"}),(0,g.jsx)("input",{type:"tel",value:b.phone,onChange:a=>c({...b,phone:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Username"}),(0,g.jsx)("input",{type:"text",value:b.username,onChange:a=>c({...b,username:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Password"}),(0,g.jsx)("input",{type:"password",value:b.password,onChange:a=>c({...b,password:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Specialization"}),(0,g.jsx)("input",{type:"text",value:b.specialization,onChange:a=>c({...b,specialization:a.target.value}),className:"w-full px-3 py-2 bg-white/5 backdrop-blur-sm text-green-100 focus:bg-white/10 transition-all duration-200 rounded border-0 outline-none",placeholder:"e.g., Electrical, Plumbing"})]})]}),(0,g.jsx)("button",{type:"submit",className:"w-full btn-primary font-bold py-2 sm:py-3 px-4 rounded",children:"Add Technician"})]})]})},M=()=>{let{addItem:a}=y(),[b,c]=(0,h.useState)({name:"",email:"",phone:"",username:"",password:"",company:"",territory:""});return(0,g.jsxs)("div",{className:"w-full p-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,g.jsx)("button",{onClick:()=>window.history.back(),className:"btn-secondary px-3 py-2 rounded flex items-center gap-2",children:"â† Back"}),(0,g.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-green-400",children:"Add New Partner"})]}),(0,g.jsxs)("form",{onSubmit:d=>{d.preventDefault(),a("users",{...b,role:"partner"}),c({name:"",email:"",phone:"",username:"",password:"",company:"",territory:""}),alert("Partner added successfully!")},className:"glass-form p-4 sm:p-6 rounded-lg space-y-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Name"}),(0,g.jsx)("input",{type:"text",value:b.name,onChange:a=>c({...b,name:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Email"}),(0,g.jsx)("input",{type:"email",value:b.email,onChange:a=>c({...b,email:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Phone"}),(0,g.jsx)("input",{type:"tel",value:b.phone,onChange:a=>c({...b,phone:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Username"}),(0,g.jsx)("input",{type:"text",value:b.username,onChange:a=>c({...b,username:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Password"}),(0,g.jsx)("input",{type:"password",value:b.password,onChange:a=>c({...b,password:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Company"}),(0,g.jsx)("input",{type:"text",value:b.company,onChange:a=>c({...b,company:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",placeholder:"Partner company name"})]}),(0,g.jsxs)("div",{className:"sm:col-span-2",children:[(0,g.jsx)("label",{className:"block text-green-300 text-sm font-medium mb-2",children:"Territory"}),(0,g.jsx)("input",{type:"text",value:b.territory,onChange:a=>c({...b,territory:a.target.value}),className:"glass-input w-full px-3 py-2 rounded placeholder-green-300/50",placeholder:"Assigned territory or region"})]})]}),(0,g.jsx)("button",{type:"submit",className:"w-full btn-primary font-bold py-2 sm:py-3 px-4 rounded",children:"Add Partner"})]})]})},N=()=>{let{currentUser:a,data:b,currentPage:c,setCurrentPage:d}=y();return(0,g.jsx)("div",{children:(()=>{switch(c){case"customers":return(0,g.jsx)(D,{});case"products":return(0,g.jsx)(G,{});case"services":return(0,g.jsx)(H,{});case"orders":return(0,g.jsx)(I,{});case"tickets":return(0,g.jsx)(J,{});case"reports":return(0,g.jsx)(K,{});case"add technician":return(0,g.jsx)(L,{});case"add partner":return(0,g.jsx)(M,{});default:return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,g.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"â˜€ï¸"})," Welcome back, ",a?.name,"!"]}),(0,g.jsxs)("p",{className:"text-gray-600",children:["Solar Energy Management - ",a?.role," dashboard"]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,g.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Solar Customers"}),(0,g.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.customers.length})]}),(0,g.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ‘¥"})]})}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Solar Products"}),(0,g.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.products.length})]}),(0,g.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ”‹"})]})}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Services"}),(0,g.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.services.length})]}),(0,g.jsx)("span",{className:"text-3xl text-orange-500",children:"âš¡"})]})}),(0,g.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Orders"}),(0,g.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(b.orders||[]).length})]}),(0,g.jsx)("span",{className:"text-3xl text-orange-500",children:"ðŸ“¦"})]})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,g.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,g.jsxs)("h3",{className:"text-gray-900 text-lg font-semibold mb-4 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"ðŸŽ«"})," Recent Support Tickets"]}),(0,g.jsxs)("div",{className:"space-y-3",children:[Array.isArray(b.tickets)?b.tickets.slice(0,3).map((a,b)=>(0,g.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,g.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Ticket #",b+1]}),(0,g.jsx)("span",{className:"text-orange-600 text-xs font-semibold bg-orange-100 px-2 py-1 rounded",children:"Open"})]},b)):null,(!Array.isArray(b.tickets)||0===b.tickets.length)&&(0,g.jsx)("p",{className:"text-gray-500 text-sm",children:"No tickets yet"})]})]}),(0,g.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,g.jsxs)("h3",{className:"text-gray-900 text-lg font-semibold mb-4 flex items-center",children:[(0,g.jsx)("span",{className:"mr-2",children:"âš¡"})," Quick Actions"]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(a?.role==="admin"||a?.role==="partner")&&(0,g.jsx)("button",{onClick:()=>d("customers"),className:"w-full bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Solar Customer"}),a?.role==="admin"&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{onClick:()=>d("add partner"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Partner"}),(0,g.jsx)("button",{onClick:()=>d("add technician"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Add Technician"})]}),(0,g.jsx)("button",{onClick:()=>d("tickets"),className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-700 hover:to-yellow-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"+ Create Support Ticket"}),(0,g.jsx)("button",{onClick:()=>d("reports"),className:"w-full bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600 text-white p-2 rounded-lg transition-all text-sm font-semibold shadow-md hover:shadow-lg",children:"ðŸ“Š View Reports"})]})]})]})]})}})()})},O=({onStaffLogin:a})=>{let{currentUser:b,logout:c,data:d,addItem:e,login:f}=y(),[i,j]=(0,h.useState)("home"),[k,l]=(0,h.useState)(!1),[m,n]=(0,h.useState)({type:"product",itemId:"",quantity:1,description:"",preferredDate:""}),[o,p]=(0,h.useState)({type:"product",itemId:"",issue:"",notes:""}),[q,r]=(0,h.useState)([]),[s,t]=(0,h.useState)(!1),[u,v]=(0,h.useState)("");(0,h.useEffect)(()=>{b||"my-orders"!==i&&"my-tickets"!==i||j("home")},[b,i]);let w=b&&d.orders?.filter(a=>a.customerId===b.id)||[],x=b&&d.tickets?.filter(a=>a.customerId===b.id)||[],z=[{id:"home",label:"Home",icon:"ðŸ "},{id:"products",label:"Products",icon:"ðŸ›’"},{id:"services",label:"Services",icon:"ðŸ”§"},{id:"raise-ticket",label:"Support",icon:"ðŸŽ«"},...b?[{id:"my-orders",label:"My Orders",icon:"ðŸ“¦"},{id:"my-tickets",label:"My Tickets",icon:"ðŸŽŸï¸"}]:[]];return(0,g.jsxs)("div",{className:"min-h-screen Fixed Text",children:[(0,g.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 Fixed Text border-b backdrop-blur-sm bg-opacity-95",children:(0,g.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,g.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-600 p-2 rounded-lg",children:(0,g.jsx)("span",{className:"text-white font-bold text-xl",children:"MJ"})}),(0,g.jsx)("div",{className:"ml-3",children:(0,g.jsx)("div",{className:"text-teal-600 text-sm font-medium",children:"SOLAR SOLUTIONS"})})]}),(0,g.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:z.map(a=>(0,g.jsxs)("button",{onClick:()=>{if(!b&&("my-orders"===a.id||"my-tickets"===a.id)){v("login"),t(!0);return}j(a.id)},className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all ${i===a.id?"bg-teal-600 text-white":k?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[(0,g.jsx)("span",{className:"mr-2",children:a.icon}),a.label]},a.id))}),(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsx)("button",{onClick:()=>l(!k),className:"p-2 rounded-lg transition-all Fixed Text",children:(0,g.jsx)("span",{className:"text-lg",children:"Fixed Text"})}),(0,g.jsxs)("button",{onClick:()=>j("cart"),className:"relative p-2 rounded-lg transition-all Fixed Text",children:[(0,g.jsx)("span",{className:"text-lg",children:"ðŸ›’"}),q.length>0&&(0,g.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:q.length})]}),b?(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)("span",{className:"text-sm font-medium max-w-32 truncate Fixed Text",title:b.name,children:b.name}),(0,g.jsx)("button",{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex-shrink-0",children:"Logout"})]}):(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("button",{onClick:()=>{v("login"),t(!0)},className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Login"}),(0,g.jsx)("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Staff"})]})]})]})})}),(0,g.jsx)("div",{className:"pt-16",children:(0,g.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["home"===i&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"relative rounded-3xl overflow-hidden mb-16 Fixed Text",children:(0,g.jsxs)("div",{className:"relative px-8 py-16 lg:px-16 lg:py-24",children:[(0,g.jsxs)("div",{className:"max-w-3xl",children:[(0,g.jsxs)("h1",{className:"text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Powering Tomorrow with",(0,g.jsx)("span",{className:"block text-yellow-400",children:"Clean Energy"})]}),(0,g.jsx)("p",{className:"text-xl text-teal-100 mb-8 leading-relaxed",children:"Transform your home or business with our premium solar solutions. Professional installation, maintenance, and support included."}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,g.jsx)("button",{onClick:()=>j("products"),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg",children:"Explore Products"}),(0,g.jsx)("button",{onClick:()=>j("services"),className:"border-2 border-white text-white hover:bg-white hover:text-teal-700 px-8 py-4 rounded-xl font-semibold text-lg transition-all",children:"Our Services"})]})]}),(0,g.jsx)("div",{className:"absolute right-0 top-0 w-1/2 h-full opacity-10",children:(0,g.jsx)("div",{className:"w-full h-full bg-gradient-to-l from-yellow-400/30 to-transparent"})})]})}),(0,g.jsxs)("div",{className:"mb-16",children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Our Solar Solutions"}),(0,g.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Comprehensive solar energy solutions tailored to your needs"})]}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{name:"Solar Panels",icon:"â˜€ï¸",color:"bg-yellow-400"},{name:"Inverters",icon:"âš¡",color:"bg-yellow-400"},{name:"Batteries",icon:"ðŸ”‹",color:"bg-yellow-400"},{name:"Installation",icon:"ðŸ”§",color:"bg-yellow-400"}].map(a=>(0,g.jsxs)("button",{onClick:()=>j("products"),className:`group p-8 rounded-2xl transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-teal-100 rounded-2xl flex items-center justify-center mb-6 mx-auto group-hover:bg-teal-200 transition-colors",children:(0,g.jsx)("span",{className:"text-3xl",children:a.icon})}),(0,g.jsx)("h3",{className:"text-lg font-semibold mb-2 Fixed Text",children:a.name}),(0,g.jsxs)("p",{className:"text-sm Fixed Text",children:["Professional ",a.name.toLowerCase()," solutions"]})]},a.name))})]}),(0,g.jsxs)("div",{className:"mb-16",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,g.jsx)("h3",{className:"text-3xl font-bold Fixed Text",children:"Featured Products"}),(0,g.jsx)("button",{onClick:()=>j("products"),className:"text-teal-600 hover:text-teal-700 font-semibold flex items-center",children:"View All Products â†’"})]}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.products?.slice(0,3).map(a=>(0,g.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,g.jsx)("div",{className:`h-48 flex items-center justify-center ${k?"bg-gray-700":"bg-gray-100"}`,children:(0,g.jsx)("span",{className:"text-6xl",children:"âš¡"})}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsx)("h4",{className:"text-xl font-semibold mb-2 Fixed Text",children:a.name}),(0,g.jsx)("p",{className:"text-sm mb-4 Fixed Text",children:a.category}),(0,g.jsxs)("div",{className:"flex justify-between items-center",children:[(0,g.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",a.price?.toLocaleString()]}),(0,g.jsx)("button",{onClick:()=>j("products"),className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:"View Details"})]})]})]},a.id))})]}),(0,g.jsxs)("div",{className:"rounded-3xl p-8 lg:p-12 Fixed Text",children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h3",{className:"text-3xl font-bold mb-4 Fixed Text",children:"Why Choose MJPOWER Solar?"}),(0,g.jsx)("p",{className:"text-lg Fixed Text",children:"Leading the way in sustainable energy solutions"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)("span",{className:"text-2xl",children:"ðŸ†"})}),(0,g.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"Expert Installation"}),(0,g.jsx)("p",{className:"Fixed Text",children:"Professional installation by certified technicians"})]}),(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)("span",{className:"text-2xl",children:"âš¡"})}),(0,g.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"Premium Quality"}),(0,g.jsx)("p",{className:"Fixed Text",children:"High-efficiency solar panels and components"})]}),(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)("span",{className:"text-2xl",children:"ðŸ› ï¸"})}),(0,g.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:"24/7 Support"}),(0,g.jsx)("p",{className:"Fixed Text",children:"Round-the-clock maintenance and support"})]})]})]})]}),"services"===i&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Solar Services"}),(0,g.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Professional solar services to maximize your energy efficiency"})]}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.services?.map(a=>(0,g.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,g.jsx)("div",{className:`h-48 flex items-center justify-center ${k?"bg-gray-700":"bg-gradient-to-br from-blue-50 to-blue-100"}`,children:(0,g.jsx)("span",{className:"text-6xl",children:"ðŸ”§"})}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsx)("h3",{className:"text-xl font-semibold mb-3 Fixed Text",children:a.name}),(0,g.jsx)("p",{className:"mb-6 Fixed Text leading-relaxed",children:a.description}),(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",a.price?.toLocaleString()]}),(0,g.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:"Service"})]}),(0,g.jsx)("button",{onClick:()=>{q.find(b=>b.id===a.id)||(r([...q,{...a,quantity:1}]),alert("Added to cart!"))},className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",children:"Book Service"})]})]},a.id))})]}),"products"===i&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Products & Services"}),(0,g.jsx)("p",{className:"text-xl Fixed Text max-w-2xl mx-auto",children:"Complete solar solutions for your energy needs"})]}),(0,g.jsxs)("div",{className:"mb-16",children:[(0,g.jsx)("h3",{className:"text-3xl font-bold mb-8 Fixed Text",children:"Solar Products"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:d.products?.map(a=>(0,g.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,g.jsx)("div",{className:`h-48 flex items-center justify-center ${k?"bg-gray-700":"bg-gradient-to-br from-teal-50 to-teal-100"}`,children:a.image?(0,g.jsx)("img",{src:E(a.image),alt:a.name,className:"w-full h-full object-cover"}):(0,g.jsx)("span",{className:"text-6xl",children:"âš¡"})}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,g.jsx)("h4",{className:"text-lg font-semibold Fixed Text",children:a.name}),(0,g.jsx)("span",{className:"text-xs px-2 py-1 rounded-full Fixed Text",children:a.category})]}),(0,g.jsx)("p",{className:"text-sm mb-4 Fixed Text line-clamp-2",children:a.description}),(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",a.price?.toLocaleString()]}),(0,g.jsxs)("select",{className:`rounded-lg px-3 py-1 text-sm border ${k?"bg-gray-700 text-white border-gray-600":"bg-gray-50 text-gray-900 border-gray-300"}`,onChange:b=>n({...m,quantity:parseInt(b.target.value),itemId:a.id}),children:[(0,g.jsx)("option",{value:"1",children:"Qty: 1"}),(0,g.jsx)("option",{value:"2",children:"Qty: 2"}),(0,g.jsx)("option",{value:"3",children:"Qty: 3"}),(0,g.jsx)("option",{value:"5",children:"Qty: 5"}),(0,g.jsx)("option",{value:"10",children:"Qty: 10"})]})]}),(0,g.jsx)("button",{onClick:()=>{if(q.find(b=>b.id===a.id))j("cart");else{let b=m.quantity||1;r([...q,{...a,quantity:b}]),alert("Added to cart!")}},className:`w-full py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${q.find(b=>b.id===a.id)?"bg-green-600 hover:bg-green-700 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,children:q.find(b=>b.id===a.id)?"âœ“ In Cart":"Add to Cart"})]})]},a.id))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-3xl font-bold mb-8 Fixed Text",children:"Solar Services"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.services?.map(a=>(0,g.jsxs)("div",{className:`group rounded-2xl overflow-hidden transition-all duration-300 transform hover:-translate-y-2 hover:shadow-xl ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50 border border-gray-200"}`,children:[(0,g.jsx)("div",{className:`h-48 flex items-center justify-center ${k?"bg-gray-700":"bg-gradient-to-br from-orange-50 to-orange-100"}`,children:(0,g.jsx)("span",{className:"text-6xl",children:"ðŸ”§"})}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,g.jsx)("h4",{className:"text-lg font-semibold Fixed Text",children:a.name}),(0,g.jsx)("span",{className:"text-xs px-2 py-1 rounded-full Fixed Text",children:"Service"})]}),(0,g.jsx)("p",{className:"text-sm mb-4 Fixed Text line-clamp-2",children:a.description}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsxs)("span",{className:"text-2xl font-bold text-teal-600",children:["â‚¹",a.price?.toLocaleString()]})}),(0,g.jsx)("button",{onClick:()=>{q.find(b=>b.id===a.id)?j("cart"):(r([...q,{...a,quantity:1}]),alert("Service added to cart!"))},className:`w-full py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${q.find(b=>b.id===a.id)?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:q.find(b=>b.id===a.id)?"âœ“ In Cart":"Book Service"})]})]},a.id))})]})]}),"cart"===i&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Shopping Cart"}),(0,g.jsx)("p",{className:"text-xl Fixed Text",children:"Review your selected items"})]}),0===q.length?(0,g.jsxs)("div",{className:"text-center py-16",children:[(0,g.jsx)("div",{className:"text-8xl mb-6",children:"ðŸ›’"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Your cart is empty"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Add some solar products to get started!"}),(0,g.jsx)("button",{onClick:()=>j("products"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Browse Products"})]}):(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,g.jsx)("div",{className:"lg:col-span-2",children:(0,g.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,g.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,g.jsxs)("h3",{className:"text-xl font-semibold Fixed Text",children:["Cart Items (",q.length,")"]})}),(0,g.jsx)("div",{className:"p-6 space-y-6",children:q.map(a=>(0,g.jsxs)("div",{className:`flex items-center space-x-6 p-6 border rounded-2xl transition-all hover:shadow-md ${k?"border-gray-700 hover:bg-gray-750":"border-gray-200 hover:bg-gray-50"}`,children:[(0,g.jsx)("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center ${k?"bg-gray-700":"bg-gray-100"}`,children:a.image?(0,g.jsx)("img",{src:E(a.image),alt:a.name,className:"w-full h-full object-cover rounded-xl"}):(0,g.jsx)("span",{className:"text-2xl",children:"âš¡"})}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("h4",{className:"text-lg font-semibold mb-1 Fixed Text",children:a.name}),(0,g.jsx)("p",{className:"text-sm mb-2 Fixed Text",children:a.category}),(0,g.jsxs)("p",{className:"text-xl font-bold text-teal-600",children:["â‚¹",a.price?.toLocaleString()]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)("button",{onClick:()=>{r(q.map(b=>b.id===a.id&&b.quantity>1?{...b,quantity:b.quantity-1}:b))},className:`w-10 h-10 rounded-lg flex items-center justify-center font-semibold transition-all ${k?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"-"}),(0,g.jsx)("span",{className:"w-12 text-center font-semibold Fixed Text",children:a.quantity}),(0,g.jsx)("button",{onClick:()=>{r(q.map(b=>b.id===a.id?{...b,quantity:b.quantity+1}:b))},className:`w-10 h-10 rounded-lg flex items-center justify-center font-semibold transition-all ${k?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"+"})]}),(0,g.jsx)("button",{onClick:()=>{r(q.filter(b=>b.id!==a.id))},className:"p-3 rounded-lg transition-all Fixed Text",children:"ðŸ—‘ï¸"})]},a.id))})]})}),(0,g.jsx)("div",{className:"lg:col-span-1",children:(0,g.jsxs)("div",{className:"rounded-2xl sticky top-24 Fixed Text",children:[(0,g.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,g.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Order Summary"})}),(0,g.jsxs)("div",{className:"p-6 space-y-4",children:[(0,g.jsxs)("div",{className:"flex justify-between text-lg Fixed Text",children:[(0,g.jsx)("span",{children:"Subtotal:"}),(0,g.jsxs)("span",{children:["â‚¹",q.reduce((a,b)=>a+(b.price||0)*b.quantity,0).toLocaleString()]})]}),(0,g.jsxs)("div",{className:"flex justify-between text-lg Fixed Text",children:[(0,g.jsx)("span",{children:"Tax (18%):"}),(0,g.jsxs)("span",{children:["â‚¹",Math.round(.18*q.reduce((a,b)=>a+(b.price||0)*b.quantity,0)).toLocaleString()]})]}),(0,g.jsx)("div",{className:"border-t pt-4 Fixed Text",children:(0,g.jsxs)("div",{className:"flex justify-between text-xl font-bold Fixed Text",children:[(0,g.jsx)("span",{children:"Total:"}),(0,g.jsxs)("span",{children:["â‚¹",Math.round(1.18*q.reduce((a,b)=>a+(b.price||0)*b.quantity,0)).toLocaleString()]})]})}),(0,g.jsx)("button",{onClick:()=>{if(!b){v("checkout"),t(!0);return}q.forEach(a=>{e("orders",{type:"product",itemId:a.id,quantity:a.quantity,description:"",preferredDate:new Date().toISOString().split("T")[0],customerId:b.id,customerName:b.name,itemName:a.name,itemPrice:a.price,totalPrice:a.price*a.quantity,status:"pending",createdAt:new Date().toISOString().split("T")[0]})}),r([]),alert("Order placed successfully!"),j("my-orders")},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"ðŸ’³ Proceed to Checkout"})]})]})})]})]}),"raise-ticket"===i&&(0,g.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Support Center"}),(0,g.jsx)("p",{className:"text-xl Fixed Text",children:"Get help with your solar solutions"})]}),(0,g.jsx)("div",{className:"p-8 rounded-2xl Fixed Text",children:b?(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-6 Fixed Text",children:"Create Support Ticket"}),(0,g.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!b){v("ticket"),t(!0);return}e("tickets",{...o,customerId:b.id,customerName:b.name,status:"open",assignedTo:"",createdBy:b.id,createdAt:new Date().toISOString()}),p({type:"product",itemId:"",issue:"",notes:""}),alert("Ticket raised successfully!")},className:"space-y-6",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Category"}),(0,g.jsxs)("select",{value:o.type,onChange:a=>p({...o,type:a.target.value,itemId:""}),className:`w-full p-4 rounded-xl border transition-all ${k?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,children:[(0,g.jsx)("option",{value:"product",children:"Solar Product"}),(0,g.jsx)("option",{value:"service",children:"Solar Service"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Select Item"}),(0,g.jsxs)("select",{value:o.itemId,onChange:a=>p({...o,itemId:a.target.value}),className:`w-full p-4 rounded-xl border transition-all ${k?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,required:!0,children:[(0,g.jsxs)("option",{value:"",children:["Select ",o.type]}),("product"===o.type?d.products:d.services)?.map(a=>(0,g.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Issue Description"}),(0,g.jsx)("textarea",{placeholder:"Describe your issue in detail...",value:o.issue,onChange:a=>p({...o,issue:a.target.value}),className:`w-full p-4 rounded-xl border transition-all ${k?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,rows:4,required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Additional Notes (Optional)"}),(0,g.jsx)("textarea",{placeholder:"Any additional information...",value:o.notes,onChange:a=>p({...o,notes:a.target.value}),className:`w-full p-4 rounded-xl border transition-all ${k?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,rows:3})]}),(0,g.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Submit Support Ticket"})]})]}):(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to raise a support ticket"}),(0,g.jsx)("button",{onClick:()=>{v("ticket"),t(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]}),"my-orders"===i&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"My Orders"}),(0,g.jsx)("p",{className:"text-xl Fixed Text",children:"Track your solar product orders"})]}),(0,g.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,g.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,g.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Order History"})}),(0,g.jsx)("div",{className:"p-6",children:b?0===w.length?(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ“¦"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"No Orders Yet"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Start shopping for solar products"}),(0,g.jsx)("button",{onClick:()=>j("products"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Browse Products"})]}):(0,g.jsx)("div",{className:"space-y-6",children:w.map(a=>(0,g.jsx)("div",{className:`p-6 rounded-2xl border transition-all hover:shadow-md ${k?"bg-gray-700 border-gray-600 hover:bg-gray-650":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:(0,g.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("h4",{className:"text-lg font-semibold mb-2 Fixed Text",children:a.itemName}),(0,g.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,g.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:a.type}),"product"===a.type&&(0,g.jsxs)("span",{className:"text-sm Fixed Text",children:["Qty: ",a.quantity]})]}),(0,g.jsxs)("p",{className:"text-xl font-bold text-teal-600 mb-2",children:["â‚¹",(a.totalPrice||a.itemPrice)?.toLocaleString()]}),a.description&&(0,g.jsx)("p",{className:"text-sm mb-2 Fixed Text",children:a.description}),(0,g.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,g.jsxs)("span",{children:["Preferred: ",a.preferredDate]}),(0,g.jsxs)("span",{children:["Ordered: ",a.createdAt]})]})]}),(0,g.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-white ${"completed"===a.status?"bg-green-500":"in-progress"===a.status?"bg-blue-500":"bg-yellow-500"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})},a.id))}):(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to view your orders"}),(0,g.jsx)("button",{onClick:()=>{v("login"),t(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]})]}),"my-tickets"===i&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center mb-12",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold mb-4 Fixed Text",children:"Support Tickets"}),(0,g.jsx)("p",{className:"text-xl Fixed Text",children:"Track your support requests"})]}),(0,g.jsxs)("div",{className:"rounded-2xl Fixed Text",children:[(0,g.jsx)("div",{className:"p-6 border-b Fixed Text",children:(0,g.jsx)("h3",{className:"text-xl font-semibold Fixed Text",children:"Ticket History"})}),(0,g.jsx)("div",{className:"p-6",children:b?0===x.length?(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"ðŸŽŸï¸"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"No Support Tickets"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Need help? Create a support ticket"}),(0,g.jsx)("button",{onClick:()=>j("raise-ticket"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Create Ticket"})]}):(0,g.jsx)("div",{className:"space-y-6",children:x.map(a=>{let b=("product"===a.type?d.products:d.services)?.find(b=>b.id==a.itemId);return(0,g.jsx)("div",{className:`p-6 rounded-2xl border transition-all hover:shadow-md ${k?"bg-gray-700 border-gray-600 hover:bg-gray-650":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:(0,g.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,g.jsxs)("h4",{className:"text-lg font-semibold Fixed Text",children:["Ticket #",a.id]}),(0,g.jsx)("span",{className:"text-sm px-3 py-1 rounded-full Fixed Text",children:a.type})]}),(0,g.jsxs)("p",{className:"text-sm mb-2 Fixed Text",children:["Related to: ",b?.name]}),(0,g.jsx)("p",{className:"mb-3 Fixed Text",children:a.issue}),a.notes&&(0,g.jsxs)("p",{className:"text-sm mb-3 Fixed Text",children:[(0,g.jsx)("span",{className:"font-medium",children:"Notes:"})," ",a.notes]}),(0,g.jsxs)("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(a.createdAt).toLocaleDateString()]})]}),(0,g.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-white ${"closed"===a.status?"bg-gray-500":"completed"===a.status?"bg-green-500":"in-progress"===a.status?"bg-blue-500":"bg-yellow-500"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})},a.id)})}):(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”’"}),(0,g.jsx)("h3",{className:"text-2xl font-semibold mb-4 Fixed Text",children:"Login Required"}),(0,g.jsx)("p",{className:"text-lg mb-8 Fixed Text",children:"Please login to view your support tickets"}),(0,g.jsx)("button",{onClick:()=>{v("login"),t(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all transform hover:scale-105",children:"Login to Continue"})]})})]})]}),s&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"rounded-2xl p-8 max-w-md w-full mx-4 Fixed Text",children:[(0,g.jsx)("h3",{className:"text-2xl font-bold mb-2 Fixed Text",children:"Customer Login"}),(0,g.jsx)("p",{className:"mb-6 Fixed Text",children:"checkout"===u?"Please login to complete your purchase.":"ticket"===u?"Please login to raise a support ticket.":"Please login to access your account."}),(0,g.jsxs)("form",{onSubmit:a=>{a.preventDefault();let b=new FormData(a.target),c=b.get("email"),e=b.get("password"),g=d.customers?.find(a=>a.email===c&&a.password===e);g?(f(c,e,{...g,role:"customer"}),t(!1)):alert("Invalid credentials")},className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Email"}),(0,g.jsx)("input",{name:"email",type:"email",required:!0,className:"w-full p-3 rounded-lg border Fixed Text",placeholder:"Enter your email"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium mb-2 Fixed Text",children:"Password"}),(0,g.jsx)("input",{name:"password",type:"password",required:!0,className:"w-full p-3 rounded-lg border Fixed Text",placeholder:"Enter your password"})]}),(0,g.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,g.jsx)("button",{type:"button",onClick:()=>{t(!1),j("home")},className:"flex-1 py-3 px-4 rounded-lg font-semibold Fixed Text",children:"Cancel"}),(0,g.jsx)("button",{type:"submit",className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white py-3 px-4 rounded-lg font-semibold",children:"Login"})]})]}),(0,g.jsx)("div",{className:"mt-4 text-center",children:(0,g.jsx)("button",{onClick:()=>{t(!1),a()},className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Staff Login"})})]})})]})})]})};function P(){let{currentUser:a}=y(),[b,c]=(0,h.useState)(!1),[d,e]=(0,h.useState)(!1);return((0,h.useEffect)(()=>{c(!0)},[]),b)?d&&!a?(0,g.jsx)(B,{onBackToCustomer:()=>e(!1)}):a&&"customer"!==a.role?(0,g.jsx)(C,{children:(0,g.jsx)(N,{})}):(0,g.jsx)(O,{onStaffLogin:()=>e(!0)}):(0,g.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:"Loading..."})}let Q=function(){return(0,g.jsx)("div",{className:"min-h-screen bg-white",children:(0,g.jsx)(z,{children:(0,g.jsx)(P,{})})})};function R(){return(0,g.jsx)(Q,{})}a.s(["default",()=>R],5205);var S=a.i(5205),T=a.i(9193);let U=(0,d.hoist)(S,"default"),V=(0,d.hoist)(S,"getStaticProps"),W=(0,d.hoist)(S,"getStaticPaths"),X=(0,d.hoist)(S,"getServerSideProps"),Y=(0,d.hoist)(S,"config"),Z=(0,d.hoist)(S,"reportWebVitals"),$=(0,d.hoist)(S,"unstable_getStaticProps"),_=(0,d.hoist)(S,"unstable_getStaticPaths"),aa=(0,d.hoist)(S,"unstable_getStaticParams"),ab=(0,d.hoist)(S,"unstable_getServerProps"),ac=(0,d.hoist)(S,"unstable_getServerSideProps"),ad=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:S}),ae=(0,T.getHandler)({srcPage:"/index",config:Y,userland:S,routeModule:ad,getStaticPaths:W,getStaticProps:V,getServerSideProps:X});a.s(["config",0,Y,"default",0,U,"getServerSideProps",0,X,"getStaticPaths",0,W,"getStaticProps",0,V,"handler",0,ae,"reportWebVitals",0,Z,"routeModule",0,ad,"unstable_getServerProps",0,ab,"unstable_getServerSideProps",0,ac,"unstable_getStaticParams",0,aa,"unstable_getStaticPaths",0,_,"unstable_getStaticProps",0,$],3099)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_16f18052.js.map